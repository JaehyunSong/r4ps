<!DOCTYPE html>
<html lang="en"><head>
<link href="../../Figs/favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.31">

  <meta name="author" content="宋(そん)&nbsp;&nbsp;財泫(じぇひょん)">
  <title>R for Political Science – マクロ政治データ分析実習</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-812327e31f62f2cc4f05359e191f4037.css">
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-9TLN2VMPQD"></script>

  <script type="text/javascript">

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-9TLN2VMPQD', { 'anonymize_ip': true});
  </script>
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">マクロ政治データ分析実習</h1>
  <p class="subtitle">10/ ロジスティック回帰分析</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
<ruby>宋<rp>(</rp><rt>そん</rt><rp>)</rp></ruby>&nbsp;&nbsp;<ruby>財泫<rp>(</rp><rt>じぇひょん</rt><rp>)</rp></ruby> 
</div>
        <p class="quarto-title-affiliation">
            関西大学総合情報学部
          </p>
    </div>
</div>

</section>
<section id="授業開始前に" class="slide level2">
<h2>授業開始前に</h2>
<p>すぐに実習できるように準備しておきましょう。</p>
<ol type="1">
<li>JDCat分析ツールを起動しておいてください。</li>
<li>本日授業用のプロジェクトを作成するか、既存のプロジェクトを開いてください。</li>
<li>LMSから実習用データをダウンロードしておいてください。</li>
<li>ダウンロードしてデータをプロジェクト・フォルダーにアップロードしてください。
<ul>
<li>プロジェクト・フォルダー内に<code>Data</code>フォルダーを作成し、そこにアップロードしましょう。</li>
</ul></li>
<li>実習用コードを入力するスクリプト、またはQuarto（or R Markdown）ファイルを開き、以下のコードを入力&amp;実行してください（コピペ可）。</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a></a><span class="fu">library</span>(summarytools)</span>
<span id="cb1-3"><a></a><span class="fu">library</span>(modelsummary)</span>
<span id="cb1-4"><a></a><span class="fu">library</span>(marginaleffects)</span>
<span id="cb1-5"><a></a></span>
<span id="cb1-6"><a></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Data/Hino_Song.csv"</span>)</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>トラブルが生じた場合、速やかにTAを読んでください。</li>
<li>時間に余裕があれば、スライド内のコードも書いておきましょう。</li>
</ul>
</section>
<section>
<section id="ロジスティック関数" class="title-slide slide level1 center">
<h1>ロジスティック関数</h1>

</section>
<section id="実習用データ" class="slide level2">
<h2>実習用データ</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-2"><a></a><span class="fu">library</span>(marginaleffects)</span>
<span id="cb2-3"><a></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Data/Hino_Song.csv"</span>)</span>
<span id="cb2-4"><a></a></span>
<span id="cb2-5"><a></a>df</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,555 × 6
   Voted Female   Age  Educ Knowledge Ideology
   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
 1     0      1    44     3         3        5
 2     0      0    57     3         4        8
 3     0      1    28     2         3        4
 4     0      0    50     4         1        3
 5     0      1    23     2         5        7
 6     0      1    32     4         1        5
 7     1      0    38     4         5       10
 8     1      0    23     4         4        7
 9     1      0    47     4         5        5
10     1      0    48     2         5        6
# ℹ 2,545 more rows</code></pre>
</div>
</div>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:48%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="htpshiqrqq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#htpshiqrqq table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#htpshiqrqq thead, #htpshiqrqq tbody, #htpshiqrqq tfoot, #htpshiqrqq tr, #htpshiqrqq td, #htpshiqrqq th {
  border-style: none;
}

#htpshiqrqq p {
  margin: 0;
  padding: 0;
}

#htpshiqrqq .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 24px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#htpshiqrqq .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#htpshiqrqq .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#htpshiqrqq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#htpshiqrqq .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#htpshiqrqq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#htpshiqrqq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#htpshiqrqq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#htpshiqrqq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#htpshiqrqq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#htpshiqrqq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#htpshiqrqq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#htpshiqrqq .gt_spanner_row {
  border-bottom-style: hidden;
}

#htpshiqrqq .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#htpshiqrqq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#htpshiqrqq .gt_from_md > :first-child {
  margin-top: 0;
}

#htpshiqrqq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#htpshiqrqq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#htpshiqrqq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#htpshiqrqq .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#htpshiqrqq .gt_row_group_first td {
  border-top-width: 2px;
}

#htpshiqrqq .gt_row_group_first th {
  border-top-width: 2px;
}

#htpshiqrqq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#htpshiqrqq .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#htpshiqrqq .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#htpshiqrqq .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#htpshiqrqq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#htpshiqrqq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#htpshiqrqq .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#htpshiqrqq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#htpshiqrqq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#htpshiqrqq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#htpshiqrqq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#htpshiqrqq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#htpshiqrqq .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#htpshiqrqq .gt_left {
  text-align: left;
}

#htpshiqrqq .gt_center {
  text-align: center;
}

#htpshiqrqq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#htpshiqrqq .gt_font_normal {
  font-weight: normal;
}

#htpshiqrqq .gt_font_bold {
  font-weight: bold;
}

#htpshiqrqq .gt_font_italic {
  font-style: italic;
}

#htpshiqrqq .gt_super {
  font-size: 65%;
}

#htpshiqrqq .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#htpshiqrqq .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#htpshiqrqq .gt_indent_1 {
  text-indent: 5px;
}

#htpshiqrqq .gt_indent_2 {
  text-indent: 10px;
}

#htpshiqrqq .gt_indent_3 {
  text-indent: 15px;
}

#htpshiqrqq .gt_indent_4 {
  text-indent: 20px;
}

#htpshiqrqq .gt_indent_5 {
  text-indent: 25px;
}

#htpshiqrqq .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#htpshiqrqq div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="Cov" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">変数名</th>
<th id="Desc" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">説明</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Cov">Voted</td>
<td class="gt_row gt_left" headers="Desc">2019参院選の投票参加 (0:棄権 / 1:投票)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Cov">Female</td>
<td class="gt_row gt_left" headers="Desc">女性ダミー (0: 男性 / 1: 女性)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Cov">Age</td>
<td class="gt_row gt_left" headers="Desc">回答者の年齢</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Cov">Educ</td>
<td class="gt_row gt_left" headers="Desc">回答者の学歴(1: 中卒以下; 2: 高卒; 3: 短大卒; 4: 大卒以上)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Cov">Knowledge</td>
<td class="gt_row gt_left" headers="Desc">回答者の主観的な政治知識 (高いほど知識あり)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Cov">Ideology</td>
<td class="gt_row gt_left" headers="Desc">回答者のイデオロギー(0:革新〜5:中道〜10:保守)</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div></div>
</section>
<section id="問題設定" class="slide level2">
<h2>問題設定</h2>
<blockquote>
<p>　有権者の投票参加を規定する要因を調べたい。投票所に足を運ぶには予め投票先を決めておく必要があろう。しかし、数多い選択肢（候補者、政党）の中から自分の望みを実現してくれそうな選択肢を見つけることは簡単な作業ではない。政治に関する知識があれば、比較的簡単に見つかるため、投票参加しやすいと考えられる。一方、そうでない有権者は自分にとっても最適な選択肢を見つけることを諦め、棄権するだろう。これは本当だろうか。</p>
</blockquote>
<ul>
<li>応答変数：投票参加（<code>Voted</code>）
<ul>
<li>「投票（= 1）」と「棄権（= 0）」の値のみを取るダミー変数（= <strong>二値変数</strong>、<strong>バイナリー変数</strong>）</li>
<li>説明変数として0/1の値を取る変数は「ダミー変数」と呼ぶが、応答変数として使われる場合も「バイナリー変数」、または「二値変数」の方がより一般的</li>
</ul></li>
<li>主な説明変数：回答者の主観的な政治知識（<code>Knowledge</code>）</li>
<li>統制変数：性別（<code>Female</code>）、年齢（<code>Age</code>）、学歴（<code>Educ</code>）、イデオロギー（<code>Ideology</code>）</li>
</ul>
</section>
<section id="モデル" class="slide level2">
<h2>モデル</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="logit_files/figure-revealjs/unnamed-chunk-5-1.png" class="quarto-figure quarto-figure-center" width="2400"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="記述統計" class="slide level2">
<h2>記述統計</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a>df <span class="sc">|&gt;</span></span>
<span id="cb4-2"><a></a>  <span class="fu">descr</span>(<span class="at">stats =</span> <span class="fu">c</span>(<span class="st">"mean"</span>, <span class="st">"sd"</span>, <span class="st">"min"</span>, <span class="st">"max"</span>, <span class="st">"n.valid"</span>),</span>
<span id="cb4-3"><a></a>        <span class="at">transpose =</span> <span class="cn">TRUE</span>, <span class="at">order =</span> <span class="st">"p"</span>)</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Descriptive Statistics  
df  
N: 2555  

                   Mean   Std.Dev     Min     Max   N.Valid
--------------- ------- --------- ------- ------- ---------
          Voted    0.71      0.45    0.00    1.00   2555.00
         Female    0.46      0.50    0.00    1.00   2555.00
            Age   50.91     15.69   18.00   86.00   2555.00
           Educ    3.21      0.90    1.00    4.00   2555.00
      Knowledge    3.95      1.12    1.00    5.00   2555.00
       Ideology    5.40      2.16    0.00   10.00   2555.00</code></pre>
</div>
</div>
</section>
<section id="線形確率モデル" class="slide level2">
<h2>線形確率モデル</h2>
<p>バイナリー変数を応答変数とする線形回帰モデル：<strong>線形確率モデル</strong> (<strong>l</strong>inear <strong>p</strong>robability <strong>m</strong>odel；LPM)</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a>lm_fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Voted <span class="sc">~</span> Knowledge <span class="sc">+</span> Female <span class="sc">+</span> Age <span class="sc">+</span> Educ <span class="sc">+</span> Ideology, <span class="at">data =</span> df)</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:55%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="dudhzqfosf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#dudhzqfosf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dudhzqfosf thead, #dudhzqfosf tbody, #dudhzqfosf tfoot, #dudhzqfosf tr, #dudhzqfosf td, #dudhzqfosf th {
  border-style: none;
}

#dudhzqfosf p {
  margin: 0;
  padding: 0;
}

#dudhzqfosf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 32px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dudhzqfosf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dudhzqfosf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dudhzqfosf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dudhzqfosf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dudhzqfosf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dudhzqfosf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dudhzqfosf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dudhzqfosf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dudhzqfosf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dudhzqfosf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dudhzqfosf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dudhzqfosf .gt_spanner_row {
  border-bottom-style: hidden;
}

#dudhzqfosf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dudhzqfosf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dudhzqfosf .gt_from_md > :first-child {
  margin-top: 0;
}

#dudhzqfosf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dudhzqfosf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dudhzqfosf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dudhzqfosf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dudhzqfosf .gt_row_group_first td {
  border-top-width: 2px;
}

#dudhzqfosf .gt_row_group_first th {
  border-top-width: 2px;
}

#dudhzqfosf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dudhzqfosf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dudhzqfosf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dudhzqfosf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dudhzqfosf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dudhzqfosf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dudhzqfosf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dudhzqfosf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dudhzqfosf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dudhzqfosf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dudhzqfosf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dudhzqfosf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dudhzqfosf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dudhzqfosf .gt_left {
  text-align: left;
}

#dudhzqfosf .gt_center {
  text-align: center;
}

#dudhzqfosf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dudhzqfosf .gt_font_normal {
  font-weight: normal;
}

#dudhzqfosf .gt_font_bold {
  font-weight: bold;
}

#dudhzqfosf .gt_font_italic {
  font-style: italic;
}

#dudhzqfosf .gt_super {
  font-size: 65%;
}

#dudhzqfosf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dudhzqfosf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dudhzqfosf .gt_indent_1 {
  text-indent: 5px;
}

#dudhzqfosf .gt_indent_2 {
  text-indent: 10px;
}

#dudhzqfosf .gt_indent_3 {
  text-indent: 15px;
}

#dudhzqfosf .gt_indent_4 {
  text-indent: 20px;
}

#dudhzqfosf .gt_indent_5 {
  text-indent: 25px;
}

#dudhzqfosf .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#dudhzqfosf div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="term" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"></th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">係数</th>
<th id="std.error" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">標準誤差</th>
<th id="statistic" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">検定統計量</th>
<th id="p.value" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">p値</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="term">切片</td>
<td class="gt_row gt_right" headers="estimate">−0.109</td>
<td class="gt_row gt_right" headers="std.error">0.056</td>
<td class="gt_row gt_right" headers="statistic">−1.959</td>
<td class="gt_row gt_right" headers="p.value">0.050</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">主観的な政治知識</td>
<td class="gt_row gt_right" headers="estimate">0.119</td>
<td class="gt_row gt_right" headers="std.error">0.008</td>
<td class="gt_row gt_right" headers="statistic">15.359</td>
<td class="gt_row gt_right" headers="p.value">&lt; 0.001</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">女性ダミー</td>
<td class="gt_row gt_right" headers="estimate">−0.055</td>
<td class="gt_row gt_right" headers="std.error">0.017</td>
<td class="gt_row gt_right" headers="statistic">−3.213</td>
<td class="gt_row gt_right" headers="p.value">0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">年齢</td>
<td class="gt_row gt_right" headers="estimate">0.005</td>
<td class="gt_row gt_right" headers="std.error">0.001</td>
<td class="gt_row gt_right" headers="statistic">8.408</td>
<td class="gt_row gt_right" headers="p.value">&lt; 0.001</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">学歴</td>
<td class="gt_row gt_right" headers="estimate">0.036</td>
<td class="gt_row gt_right" headers="std.error">0.010</td>
<td class="gt_row gt_right" headers="statistic">3.714</td>
<td class="gt_row gt_right" headers="p.value">&lt; 0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">イデオロギー</td>
<td class="gt_row gt_right" headers="estimate">0.004</td>
<td class="gt_row gt_right" headers="std.error">0.004</td>
<td class="gt_row gt_right" headers="statistic">1.054</td>
<td class="gt_row gt_right" headers="p.value">0.292</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div><div class="column" style="width:45%;">
<ul>
<li>政治知識の係数は約0.119
<ul>
<li>政治知識が1上がると、投票に参加する確率は約11.9%p上がる。</li>
<li>分かりやすい解釈であるものの、一つ、深刻な問題がある。</li>
<li>たとえば?</li>
</ul></li>
</ul>
</div></div>
</section>
<section id="線形確率モデルの限界" class="slide level2">
<h2>線形確率モデルの限界</h2>
<p>主観的政治知識が5、男性、86歳、教育水準が4、イデオロギーが10の回答者がいる場合、投票に参加する確率の予測値は?</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a><span class="co"># -0.1093644 + 0.1186971 * 5 - 0.0549171 * 0 + 0.0046902 * 86 + 0.0357970 * 4 + 0.0040744 * 10</span></span>
<span id="cb7-2"><a></a>lm_fit <span class="sc">|&gt;</span> </span>
<span id="cb7-3"><a></a>  <span class="fu">predictions</span>(<span class="at">newdata =</span> <span class="fu">datagrid</span>(<span class="at">Knowledge =</span> <span class="dv">5</span>,</span>
<span id="cb7-4"><a></a>                                 <span class="at">Female    =</span> <span class="dv">0</span>,</span>
<span id="cb7-5"><a></a>                                 <span class="at">Age       =</span> <span class="dv">86</span>,</span>
<span id="cb7-6"><a></a>                                 <span class="at">Educ      =</span> <span class="dv">4</span>,</span>
<span id="cb7-7"><a></a>                                 <span class="at">Ideology  =</span> <span class="dv">10</span>))</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Knowledge Female Age Educ Ideology Estimate Std. Error  z Pr(&gt;|z|)     S 2.5 % 97.5 %
         5      0  86    4       10     1.07     0.0306 35   &lt;0.001 887.0  1.01   1.13

Type:  response </code></pre>
</div>
</div>
<ul>
<li>投票参加確率の予測値は1.07141 <span class="math inline">\(\rightarrow\)</span> 107.141%</li>
<li>確率は0以上、1以下（0%〜100%）であるものの、あり得ない予測値が出る。</li>
<li>他にも線形確率モデルにはいくつかの問題がある（分散の不均一性など）。</li>
</ul>
<p><br></p>
<ul>
<li>参考) 応答変数がバイナリー変数であっても、線形確率モデルが推奨される場合もある。
<ul>
<li>Freedman, David A.. 2008. “<a href="https://www.jstor.org/stable/27645896">Randomization Does Not Justify Logistic Regression</a>,” <em>Statistical Science,</em> 23 (2): 237-249.</li>
</ul></li>
</ul>
</section>
<section id="ロジスティック関数-1" class="slide level2">
<h2>ロジスティック関数</h2>
<p><span class="math display">\[
\mbox{logistic}(x) = \frac{1}{1 + e^{-x}}
\]</span></p>
<ul>
<li><span class="math inline">\(e\)</span>はネイピア数：<span class="math inline">\(e = 1 + 1 + \frac{1}{2!} + \frac{1}{3!} + \frac{1}{4!} + ... \frac{1}{\infty!}\)</span> = 2.71828184590…</li>
<li><span class="math inline">\(x\)</span>は<span class="math inline">\(-\infty \sim \infty\)</span>の値を取り得る。
<ul>
<li><span class="math inline">\(x\)</span>が<span class="math inline">\(-\infty\)</span>の場合、<span class="math inline">\(e^{-x}\)</span>は<span class="math inline">\(e^{-(-\infty)} = \infty\)</span>、<span class="math inline">\(x\)</span>が<span class="math inline">\(\infty\)</span>の場合、<span class="math inline">\(e^{-x}\)</span>は<span class="math inline">\(e^{-(\infty)} = 0\)</span></li>
<li><span class="math inline">\(\rightarrow\)</span> <span class="math inline">\(e^{-x}\)</span> は<span class="math inline">\(0 \sim \infty\)</span></li>
</ul></li>
<li><span class="math inline">\(e^{-x}\)</span>は<span class="math inline">\(0 \sim \infty\)</span>の値をとる。
<ul>
<li><span class="math inline">\(e^{-x}\)</span>が0の場合、<span class="math inline">\(\mbox{logistic}(x)\)</span>は1、<span class="math inline">\(e^{-x}\)</span>が<span class="math inline">\(\infty\)</span>の場合、<span class="math inline">\(\mbox{logistic}(x)\)</span>は0</li>
<li><span class="math inline">\(\rightarrow\)</span> <span class="math inline">\(\mbox{logistic}(x)\)</span>は0以上、1以下</li>
<li><span class="math inline">\(\rightarrow\)</span> <span class="math inline">\(x\)</span>の値が大きいほど、<span class="math inline">\(\mbox{logistic}(x)\)</span>は1へ近づく</li>
</ul></li>
</ul>
</section>
<section id="ロジスティック関数-図" class="slide level2">
<h2>ロジスティック関数 (図)</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="logit_files/figure-revealjs/unnamed-chunk-10-1.png" class="quarto-figure quarto-figure-center" width="2400"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="ロジスティック回帰分析" class="slide level2">
<h2>ロジスティック回帰分析</h2>
<p>ロジスティック関数の<span class="math inline">\(x\)</span>の部分が回帰式となる回帰分析</p>
<p><span class="math display">\[
\mbox{Pr}(y = 1) = \frac{1}{1 + e^{-(\alpha + \beta_1 X_1 + \beta_2 X_2 + ...)}}
\]</span></p>
<ul>
<li><span class="math inline">\(\mbox{Pr}(y = 1)\)</span>は<span class="math inline">\(y\)</span>が1を取る確率</li>
<li><span class="math inline">\(\alpha + \beta_1 X_1 + \beta_2 X_2 + ...\)</span>は<strong>線形予測子</strong>（linear predictor）と呼ばれる。
<ul>
<li>線形予測子は<span class="math inline">\(-\infty \sim \infty\)</span>の値を取り得る。</li>
<li>線形予測子がどのような値をとってもロジスティック関数を経由することで、必ず0以上1以下の値に収まる。</li>
</ul></li>
</ul>
<p><br></p>
<p>ロジスティック回帰分析は線形予測子内の<span class="math inline">\(\alpha\)</span>、<span class="math inline">\(\beta_1\)</span>、…を推定する手法</p>
<ul>
<li>最小二乗法（OLS）を使わず、<strong>最尤推定法</strong>（maximum likelihood estimation; MLE）を使用</li>
<li>詳細は割愛</li>
</ul>
</section></section>
<section>
<section id="ロジスティック回帰分析-1" class="title-slide slide level1 center">
<h1>ロジスティック回帰分析</h1>

</section>
<section id="ロジスティック回帰分析の実装-使い方" class="slide level2">
<h2>ロジスティック回帰分析の実装 (使い方)</h2>
<p><code>glm()</code>関数を使用</p>
<ul>
<li><code>lm()</code>関数とほぼ同じ書き方であるが、<code>family</code>引数を指定する必要がある。
<ul>
<li>参考) <code>family = gaussian("identity")</code>にすると<code>lm()</code>と同じ結果が得られる。</li>
</ul></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a><span class="fu">glm</span>(応答変数 <span class="sc">~</span> 説明変数, <span class="at">data =</span> データ名, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>))</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>実装例</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a>fit1 <span class="ot">&lt;-</span> <span class="fu">glm</span>(Voted <span class="sc">~</span> Knowledge <span class="sc">+</span> Female <span class="sc">+</span> Age <span class="sc">+</span> Educ <span class="sc">+</span> Ideology, </span>
<span id="cb10-2"><a></a>            <span class="at">data =</span> df, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="st">"logit"</span>))</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math display">\[
\mbox{Pr}(\mbox{Voted} = 1) = \frac{1}{1 + e^{-(\alpha + \beta_1 \mbox{Knowledge} + \beta_2 \mbox{Female} + \beta_3 \mbox{Age} + \beta_4 \mbox{Educ} + \beta_5 \mbox{Ideology})}}
\]</span></p>
</section>
<section id="ロジスティック回帰分析の実装" class="slide level2">
<h2>ロジスティック回帰分析の実装</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a><span class="fu">summary</span>(fit1)</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="mpuxdrbjhp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mpuxdrbjhp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mpuxdrbjhp thead, #mpuxdrbjhp tbody, #mpuxdrbjhp tfoot, #mpuxdrbjhp tr, #mpuxdrbjhp td, #mpuxdrbjhp th {
  border-style: none;
}

#mpuxdrbjhp p {
  margin: 0;
  padding: 0;
}

#mpuxdrbjhp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 32px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mpuxdrbjhp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mpuxdrbjhp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mpuxdrbjhp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mpuxdrbjhp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mpuxdrbjhp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mpuxdrbjhp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mpuxdrbjhp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mpuxdrbjhp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mpuxdrbjhp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mpuxdrbjhp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mpuxdrbjhp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mpuxdrbjhp .gt_spanner_row {
  border-bottom-style: hidden;
}

#mpuxdrbjhp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mpuxdrbjhp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mpuxdrbjhp .gt_from_md > :first-child {
  margin-top: 0;
}

#mpuxdrbjhp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mpuxdrbjhp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mpuxdrbjhp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mpuxdrbjhp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mpuxdrbjhp .gt_row_group_first td {
  border-top-width: 2px;
}

#mpuxdrbjhp .gt_row_group_first th {
  border-top-width: 2px;
}

#mpuxdrbjhp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mpuxdrbjhp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mpuxdrbjhp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mpuxdrbjhp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mpuxdrbjhp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mpuxdrbjhp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mpuxdrbjhp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mpuxdrbjhp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mpuxdrbjhp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mpuxdrbjhp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mpuxdrbjhp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mpuxdrbjhp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mpuxdrbjhp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mpuxdrbjhp .gt_left {
  text-align: left;
}

#mpuxdrbjhp .gt_center {
  text-align: center;
}

#mpuxdrbjhp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mpuxdrbjhp .gt_font_normal {
  font-weight: normal;
}

#mpuxdrbjhp .gt_font_bold {
  font-weight: bold;
}

#mpuxdrbjhp .gt_font_italic {
  font-style: italic;
}

#mpuxdrbjhp .gt_super {
  font-size: 65%;
}

#mpuxdrbjhp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mpuxdrbjhp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mpuxdrbjhp .gt_indent_1 {
  text-indent: 5px;
}

#mpuxdrbjhp .gt_indent_2 {
  text-indent: 10px;
}

#mpuxdrbjhp .gt_indent_3 {
  text-indent: 15px;
}

#mpuxdrbjhp .gt_indent_4 {
  text-indent: 20px;
}

#mpuxdrbjhp .gt_indent_5 {
  text-indent: 25px;
}

#mpuxdrbjhp .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#mpuxdrbjhp div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="term" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"></th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">係数</th>
<th id="std.error" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">標準誤差</th>
<th id="statistic" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">検定統計量</th>
<th id="p.value" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">p値</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="term">切片</td>
<td class="gt_row gt_right" headers="estimate">−3.306</td>
<td class="gt_row gt_right" headers="std.error">0.320</td>
<td class="gt_row gt_right" headers="statistic">−10.315</td>
<td class="gt_row gt_right" headers="p.value">&lt; 0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">主観的な政治知識</td>
<td class="gt_row gt_right" headers="estimate">0.593</td>
<td class="gt_row gt_right" headers="std.error">0.043</td>
<td class="gt_row gt_right" headers="statistic">13.808</td>
<td class="gt_row gt_right" headers="p.value">&lt; 0.001</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">女性ダミー</td>
<td class="gt_row gt_right" headers="estimate">−0.316</td>
<td class="gt_row gt_right" headers="std.error">0.096</td>
<td class="gt_row gt_right" headers="statistic">−3.282</td>
<td class="gt_row gt_right" headers="p.value">0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">年齢</td>
<td class="gt_row gt_right" headers="estimate">0.027</td>
<td class="gt_row gt_right" headers="std.error">0.003</td>
<td class="gt_row gt_right" headers="statistic">8.284</td>
<td class="gt_row gt_right" headers="p.value">&lt; 0.001</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">学歴</td>
<td class="gt_row gt_right" headers="estimate">0.208</td>
<td class="gt_row gt_right" headers="std.error">0.054</td>
<td class="gt_row gt_right" headers="statistic">3.835</td>
<td class="gt_row gt_right" headers="p.value">&lt; 0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">イデオロギー</td>
<td class="gt_row gt_right" headers="estimate">0.024</td>
<td class="gt_row gt_right" headers="std.error">0.023</td>
<td class="gt_row gt_right" headers="statistic">1.061</td>
<td class="gt_row gt_right" headers="p.value">0.289</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>ロジスティック回帰分析の場合、決定係数（<span class="math inline">\(R^2\)</span>）は表示されない。
<ul>
<li>類似した概念として「疑似決定係数（Pseudo-<span class="math inline">\(R^2\)</span>）」がある）あまり使われない）。</li>
<li>ロジスティック回帰分析のモデル間比較はAIC、BIC、AUCなどを使用する。</li>
</ul></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a><span class="co"># 予め{DescTools}をインストールしておくこと (コンソール上でinstall.packages("DescTools"))</span></span>
<span id="cb12-2"><a></a>DescTools<span class="sc">::</span><span class="fu">PseudoR2</span>(fit1) <span class="co"># McFaddenの疑似決定係数</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> McFadden 
0.1228484 </code></pre>
</div>
</div>
</section>
<section id="係数の解釈" class="slide level2">
<h2>係数の解釈</h2>
<div class="columns">
<div class="column" style="width:55%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a><span class="fu">summary</span>(fit1)</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="moqyupohjl" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#moqyupohjl table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#moqyupohjl thead, #moqyupohjl tbody, #moqyupohjl tfoot, #moqyupohjl tr, #moqyupohjl td, #moqyupohjl th {
  border-style: none;
}

#moqyupohjl p {
  margin: 0;
  padding: 0;
}

#moqyupohjl .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 32px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#moqyupohjl .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#moqyupohjl .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#moqyupohjl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#moqyupohjl .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#moqyupohjl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#moqyupohjl .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#moqyupohjl .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#moqyupohjl .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#moqyupohjl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#moqyupohjl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#moqyupohjl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#moqyupohjl .gt_spanner_row {
  border-bottom-style: hidden;
}

#moqyupohjl .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#moqyupohjl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#moqyupohjl .gt_from_md > :first-child {
  margin-top: 0;
}

#moqyupohjl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#moqyupohjl .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#moqyupohjl .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#moqyupohjl .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#moqyupohjl .gt_row_group_first td {
  border-top-width: 2px;
}

#moqyupohjl .gt_row_group_first th {
  border-top-width: 2px;
}

#moqyupohjl .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#moqyupohjl .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#moqyupohjl .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#moqyupohjl .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#moqyupohjl .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#moqyupohjl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#moqyupohjl .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#moqyupohjl .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#moqyupohjl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#moqyupohjl .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#moqyupohjl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#moqyupohjl .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#moqyupohjl .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#moqyupohjl .gt_left {
  text-align: left;
}

#moqyupohjl .gt_center {
  text-align: center;
}

#moqyupohjl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#moqyupohjl .gt_font_normal {
  font-weight: normal;
}

#moqyupohjl .gt_font_bold {
  font-weight: bold;
}

#moqyupohjl .gt_font_italic {
  font-style: italic;
}

#moqyupohjl .gt_super {
  font-size: 65%;
}

#moqyupohjl .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#moqyupohjl .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#moqyupohjl .gt_indent_1 {
  text-indent: 5px;
}

#moqyupohjl .gt_indent_2 {
  text-indent: 10px;
}

#moqyupohjl .gt_indent_3 {
  text-indent: 15px;
}

#moqyupohjl .gt_indent_4 {
  text-indent: 20px;
}

#moqyupohjl .gt_indent_5 {
  text-indent: 25px;
}

#moqyupohjl .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#moqyupohjl div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="term" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"></th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">係数</th>
<th id="std.error" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">標準誤差</th>
<th id="statistic" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">検定統計量</th>
<th id="p.value" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">p値</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="term">切片</td>
<td class="gt_row gt_right" headers="estimate">−3.306</td>
<td class="gt_row gt_right" headers="std.error">0.320</td>
<td class="gt_row gt_right" headers="statistic">−10.315</td>
<td class="gt_row gt_right" headers="p.value">&lt; 0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">主観的な政治知識</td>
<td class="gt_row gt_right" headers="estimate">0.593</td>
<td class="gt_row gt_right" headers="std.error">0.043</td>
<td class="gt_row gt_right" headers="statistic">13.808</td>
<td class="gt_row gt_right" headers="p.value">&lt; 0.001</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">女性ダミー</td>
<td class="gt_row gt_right" headers="estimate">−0.316</td>
<td class="gt_row gt_right" headers="std.error">0.096</td>
<td class="gt_row gt_right" headers="statistic">−3.282</td>
<td class="gt_row gt_right" headers="p.value">0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">年齢</td>
<td class="gt_row gt_right" headers="estimate">0.027</td>
<td class="gt_row gt_right" headers="std.error">0.003</td>
<td class="gt_row gt_right" headers="statistic">8.284</td>
<td class="gt_row gt_right" headers="p.value">&lt; 0.001</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="term">学歴</td>
<td class="gt_row gt_right" headers="estimate">0.208</td>
<td class="gt_row gt_right" headers="std.error">0.054</td>
<td class="gt_row gt_right" headers="statistic">3.835</td>
<td class="gt_row gt_right" headers="p.value">&lt; 0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="term">イデオロギー</td>
<td class="gt_row gt_right" headers="estimate">0.024</td>
<td class="gt_row gt_right" headers="std.error">0.023</td>
<td class="gt_row gt_right" headers="statistic">1.061</td>
<td class="gt_row gt_right" headers="p.value">0.289</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div><div class="column" style="width:45%;">
<ul>
<li>政治知識の<span class="math inline">\(p\)</span>値は0.001未満
<ul>
<li>主観的な政治知識と投票参加の間には統計的に有意な関係がある。</li>
<li>主観的な政治知識が高くなると、投票に参加する確率も上がる。</li>
<li><span class="math inline">\(\rightarrow\)</span> <strong>正しい解釈</strong></li>
<li>具体的にどれくらい上がるか。<span class="math inline">\(\leftarrow\)</span> 係数?</li>
</ul></li>
</ul>
<p><br></p>
<ul>
<li>政治知識の係数は約0.593
<ul>
<li>主観的な政治知識が1上がると、投票参加の確率が0.593%p上がる?</li>
<li><span class="math inline">\(\rightarrow\)</span> <strong>間違った解釈</strong></li>
<li>どう解釈するか。</li>
</ul></li>
</ul>
</div></div>
</section></section>
<section>
<section id="ロジスティック回帰分析の解釈" class="title-slide slide level1 center">
<h1>ロジスティック回帰分析の解釈</h1>

</section>
<section id="予測値を計算する方法-1" class="slide level2">
<h2>予測値を計算する方法 (1)</h2>
<ul>
<li>主観的政治知識が3（<code>Knowledge</code> = 3）、女性（<code>Female</code> = 1）、20歳（<code>Age</code> = 20）、学歴が大卒（<code>Educ</code> = 4）、イデオロギーが中道（<code>Ideology</code> = 5）の場合の投票参加の予測確率</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a>fit1_coef <span class="ot">&lt;-</span> <span class="fu">coef</span>(fit1) <span class="co"># coef()関数で係数のみを抽出する</span></span>
<span id="cb15-2"><a></a>fit1_coef</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)   Knowledge      Female         Age        Educ    Ideology 
-3.30579506  0.59290164 -0.31596873  0.02650943  0.20827008  0.02391612 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a><span class="co"># 線形予測子の計算（1）</span></span>
<span id="cb17-2"><a></a>fit1_coef[<span class="dv">1</span>] <span class="sc">+</span> fit1_coef[<span class="dv">2</span>] <span class="sc">*</span> <span class="dv">3</span> <span class="sc">+</span> fit1_coef[<span class="dv">3</span>] <span class="sc">*</span> <span class="dv">1</span> <span class="sc">+</span> fit1_coef[<span class="dv">4</span>] <span class="sc">*</span> <span class="dv">20</span> <span class="sc">+</span> fit1_coef[<span class="dv">5</span>] <span class="sc">*</span> <span class="dv">4</span> <span class="sc">+</span> fit1_coef[<span class="dv">6</span>] <span class="sc">*</span> <span class="dv">5</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept) 
 -0.3602094 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a><span class="co"># 線形予測子の計算（2）</span></span>
<span id="cb19-2"><a></a><span class="fu">sum</span>(<span class="fu">coef</span>(fit1) <span class="sc">*</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">20</span>, <span class="dv">4</span>, <span class="dv">5</span>))</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.3602094</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a></a><span class="dv">1</span> <span class="sc">/</span> (<span class="dv">1</span> <span class="sc">+</span> <span class="fu">exp</span>(<span class="sc">-</span>(<span class="sc">-</span><span class="fl">0.3602094</span>))) <span class="co"># 予測確率の計算</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4109089</code></pre>
</div>
</div>
<ul>
<li>投票参加の予測確率は約41%</li>
</ul>
</section>
<section id="予測値を計算する方法1" class="slide level2">
<h2>予測値を計算する方法（1）</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="logit_files/figure-revealjs/unnamed-chunk-19-1.png" class="quarto-figure quarto-figure-center" width="2400"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="予測値を計算する方法2" class="slide level2">
<h2>予測値を計算する方法（2）</h2>
<p>{marginaleffects}パッケージの<code>predictions()</code>関数の利用</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a></a><span class="fu">predictions</span>(回帰分析オブジェクト名, </span>
<span id="cb23-2"><a></a>            <span class="at">newdata =</span> <span class="fu">datagrid</span>(説明変数名1 <span class="ot">=</span> 値,</span>
<span id="cb23-3"><a></a>                               説明変数名2 <span class="ot">=</span> 値,</span>
<span id="cb23-4"><a></a>                               ...))</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>newdata</code>で指定されなかった説明変数は平均値に固定される。
<ul>
<li>論文、レポートでは「XXは1、ZZは5、…に固定し、その他の説明変数は平均値に固定した予測値を算出した」と書く。</li>
<li>詳細は第10回の講義資料を参照</li>
</ul></li>
</ul>
</section>
<section id="marginaleffectsを使った予測値の計算例" class="slide level2">
<h2>{marginaleffects}を使った予測値の計算（例）</h2>
<p>先ほどの手計算（?）の結果を{marginaleffects}の<code>predictions()</code>関数で再現</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a><span class="co"># 主観的政治知識が3 (Knowledge = 3)、女性 (Female = 1)、20歳 (Age = 20)、学歴が大卒 (Educ = 4)、</span></span>
<span id="cb24-2"><a></a><span class="co"># イデオロギーが中道 (Ideology = 5)の場合の投票参加の予測確率</span></span>
<span id="cb24-3"><a></a><span class="fu">predictions</span>(fit1, </span>
<span id="cb24-4"><a></a>            <span class="at">newdata =</span> <span class="fu">datagrid</span>(<span class="at">Knowledge =</span> <span class="dv">3</span>, </span>
<span id="cb24-5"><a></a>                               <span class="at">Female    =</span> <span class="dv">1</span>,</span>
<span id="cb24-6"><a></a>                               <span class="at">Age       =</span> <span class="dv">20</span>, </span>
<span id="cb24-7"><a></a>                               <span class="at">Educ      =</span> <span class="dv">4</span>, </span>
<span id="cb24-8"><a></a>                               <span class="at">Ideology  =</span> <span class="dv">5</span>))</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Knowledge Female Age Educ Ideology Estimate Pr(&gt;|z|)   S 2.5 % 97.5 %
         3      1  20    4        5    0.411  0.00285 8.5 0.355  0.469

Type:  invlink(link) </code></pre>
</div>
</div>
<ul>
<li><code>Estimate</code>列の値が予測確率: 0.411（約41%）
<ul>
<li>本当の列名は<code>estimate</code>（第10回参照）</li>
</ul></li>
</ul>
</section>
<section id="marginaleffectsを使った予測値の計算" class="slide level2">
<h2>{marginaleffects}を使った予測値の計算</h2>
<p><code>Knowledge</code>が1〜5の場合の投票参加確率の予測値</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a></a>fit1_pred <span class="ot">&lt;-</span> <span class="fu">predictions</span>(fit1, </span>
<span id="cb26-2"><a></a>                         <span class="at">newdata =</span> <span class="fu">datagrid</span>(<span class="at">Knowledge =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>))</span>
<span id="cb26-3"><a></a>fit1_pred</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Knowledge Estimate Pr(&gt;|z|)     S 2.5 % 97.5 %
         1    0.362   &lt;0.001  15.1 0.303  0.425
         2    0.507    0.789   0.3 0.458  0.556
         3    0.650   &lt;0.001  53.3 0.616  0.683
         4    0.771   &lt;0.001 229.6 0.746  0.794
         5    0.859   &lt;0.001 315.9 0.837  0.878

Type:  invlink(link) </code></pre>
</div>
</div>
<ul>
<li><code>Knowledge</code>が<code>Voted</code>に与える影響は一定ではない。
<ul>
<li><code>Knowledge</code>の値が1の場合: 投票に参加する確率は32.94%</li>
<li><code>Knowledge</code>の値が2の場合: 投票に参加する確率は47.05% (14.11%p増加)</li>
<li><code>Knowledge</code>の値が3の場合: 投票に参加する確率は61.65% (14.60%p増加)</li>
<li><code>Knowledge</code>の値が4の場合: 投票に参加する確率は74.42% (12.77%p増加)</li>
<li><code>Knowledge</code>の値が5の場合: 投票に参加する確率は84.03% (9.61%p増加)</li>
</ul></li>
</ul>
</section>
<section id="予測値の可視化" class="slide level2">
<h2>予測値の可視化</h2>
<ul>
<li>可視化は第10回を参照</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="logit_files/figure-revealjs/unnamed-chunk-23-1.png" class="quarto-figure quarto-figure-center" width="2400"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="予測値の可視化-1" class="slide level2">
<h2>予測値の可視化</h2>
<ul>
<li>可視化は第10回を参照</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="logit_files/figure-revealjs/unnamed-chunk-24-1.png" class="quarto-figure quarto-figure-center" width="2400"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="説明変数が連続変数の場合" class="slide level2">
<h2>説明変数が連続変数の場合</h2>
<ul>
<li>説明変数がダミー変数、順序変数ならこれまでのやり方で可視化すると良い</li>
<li>説明変数が連続変数の場合、取りうる値は無数にあるため、これまでの図は読みにくい。</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="logit_files/figure-revealjs/unnamed-chunk-25-1.png" class="quarto-figure quarto-figure-center" width="2400"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="予測値の可視化-説明変数が連続変数" class="slide level2">
<h2>予測値の可視化 (説明変数が連続変数)</h2>
<ul>
<li>折れ線グラフ (<code>geom_line()</code>)とリボン (<code>geom_ribbon()</code>)を使用する。</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="logit_files/figure-revealjs/unnamed-chunk-26-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="参考-4分の1ルール" class="slide level2">
<h2>参考) 4分の1ルール</h2>
<p><strong>4分の1ルール</strong> (divide by 4 rule)</p>
<ul>
<li>係数の値を4分の1にすると、予測値の<strong>だいたい</strong>の変化量が分かる。</li>
</ul>
<p><br></p>
<ul>
<li>例) 政治知識の係数は約0.593
<ul>
<li>4分の1は約0.148</li>
<li>政治知識が1から2へ変化した場合: 予測値は0.135上がる。</li>
<li>政治知識が2から3へ変化した場合: 予測値は0.139上がる。</li>
<li>政治知識が3から4へ変化した場合: 予測値は0.124上がる。</li>
<li>政治知識が4から5へ変化した場合: 予測値は0.096上がる。</li>
</ul></li>
</ul>
<p><br></p>
<ul>
<li>予測値を計算する前の大雑把な計算としては便利であるものの、常に使える技（?）ではない。
<ul>
<li>係数の値が大きい場合はズレが大きくなる。</li>
<li>なるべく{marginaleffects}などで予測値を計算すること。</li>
</ul></li>
</ul>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="Figs/logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://www.jaysong.net/r4ps/" class="uri">https://www.jaysong.net/r4ps/</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/www\.jaysong\.net\/r4ps\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
                // target, if specified
                link.setAttribute("target", "_blank");
                if (link.getAttribute("rel") === null) {
                  link.setAttribute("rel", "noopener");
                }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
            let selectedAnnoteEl;
            const selectorForAnnotation = ( cell, annotation) => {
              let cellAttr = 'data-code-cell="' + cell + '"';
              let lineAttr = 'data-code-annotation="' +  annotation + '"';
              const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
              return selector;
            }
            const selectCodeLines = (annoteEl) => {
              const doc = window.document;
              const targetCell = annoteEl.getAttribute("data-target-cell");
              const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
              const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
              const lines = annoteSpan.getAttribute("data-code-lines").split(",");
              const lineIds = lines.map((line) => {
                return targetCell + "-" + line;
              })
              let top = null;
              let height = null;
              let parent = null;
              if (lineIds.length > 0) {
                  //compute the position of the single el (top and bottom and make a div)
                  const el = window.document.getElementById(lineIds[0]);
                  top = el.offsetTop;
                  height = el.offsetHeight;
                  parent = el.parentElement.parentElement;
                if (lineIds.length > 1) {
                  const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
                  const bottom = lastEl.offsetTop + lastEl.offsetHeight;
                  height = bottom - top;
                }
                if (top !== null && height !== null && parent !== null) {
                  // cook up a div (if necessary) and position it 
                  let div = window.document.getElementById("code-annotation-line-highlight");
                  if (div === null) {
                    div = window.document.createElement("div");
                    div.setAttribute("id", "code-annotation-line-highlight");
                    div.style.position = 'absolute';
                    parent.appendChild(div);
                  }
                  div.style.top = top - 2 + "px";
                  div.style.height = height + 4 + "px";
                  div.style.left = 0;
                  let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
                  if (gutterDiv === null) {
                    gutterDiv = window.document.createElement("div");
                    gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                    gutterDiv.style.position = 'absolute';
                    const codeCell = window.document.getElementById(targetCell);
                    const gutter = codeCell.querySelector('.code-annotation-gutter');
                    gutter.appendChild(gutterDiv);
                  }
                  gutterDiv.style.top = top - 2 + "px";
                  gutterDiv.style.height = height + 4 + "px";
                }
                selectedAnnoteEl = annoteEl;
              }
            };
            const unselectCodeLines = () => {
              const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
              elementsIds.forEach((elId) => {
                const div = window.document.getElementById(elId);
                if (div) {
                  div.remove();
                }
              });
              selectedAnnoteEl = undefined;
            };
              // Handle positioning of the toggle
          window.addEventListener(
            "resize",
            throttle(() => {
              elRect = undefined;
              if (selectedAnnoteEl) {
                selectCodeLines(selectedAnnoteEl);
              }
            }, 10)
          );
          function throttle(fn, ms) {
          let throttle = false;
          let timer;
            return (...args) => {
              if(!throttle) { // first call gets through
                  fn.apply(this, args);
                  throttle = true;
              } else { // all the others get throttled
                  if(timer) clearTimeout(timer); // cancel #2
                  timer = setTimeout(() => {
                    fn.apply(this, args);
                    timer = throttle = false;
                  }, ms);
              }
            };
          }
            const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
            for (let i=0; i<annoteTargets.length; i++) {
              const annoteTarget = annoteTargets[i];
              const targetCell = annoteTarget.getAttribute("data-target-cell");
              const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
              const contentFn = () => {
                const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
                if (content) {
                  const tipContent = content.cloneNode(true);
                  tipContent.classList.add("code-annotation-tip-content");
                  return tipContent.outerHTML;
                }
              }
              const config = {
                allowHTML: true,
                content: contentFn,
                onShow: (instance) => {
                  selectCodeLines(instance.reference);
                  instance.reference.classList.add('code-annotation-active');
                  window.tippy.hideAll();
                },
                onHide: (instance) => {
                  unselectCodeLines();
                  instance.reference.classList.remove('code-annotation-active');
                },
                maxWidth: 300,
                delay: [50, 0],
                duration: [200, 0],
                offset: [5, 10],
                arrow: true,
                appendTo: function(el) {
                  return el.parentElement.parentElement.parentElement;
                },
                interactive: true,
                interactiveBorder: 10,
                theme: 'light-border',
                placement: 'right',
                popperOptions: {
                  modifiers: [
                  {
                    name: 'flip',
                    options: {
                      flipVariations: false, // true by default
                      allowedAutoPlacements: ['right'],
                      fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
                    },
                  },
                  {
                    name: 'preventOverflow',
                    options: {
                      mainAxis: false,
                      altAxis: false
                    }
                  }
                  ]        
                }      
              };
              window.tippy(annoteTarget, config); 
            }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>