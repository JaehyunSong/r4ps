<!DOCTYPE html>
<html lang="en"><head>
<link href="../../Figs/favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-b6e6edf6cb1293d7f667c2f39c143ab5.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <meta name="author" content="宋(そん)&nbsp;&nbsp;財泫(じぇひょん)">
  <title>R for Political Science – ミクロ政治データ分析実習</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #767676;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #767676;  padding-left: 4px; }
    div.sourceCode
      { color: #545454; background-color: #fefefe; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #545454; } /* Normal */
    code span.al { color: #7928a1; } /* Alert */
    code span.an { color: #696969; } /* Annotation */
    code span.at { color: #a55a00; } /* Attribute */
    code span.bn { color: #7928a1; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #d91e18; } /* ControlFlow */
    code span.ch { color: #008000; } /* Char */
    code span.cn { color: #d91e18; } /* Constant */
    code span.co { color: #696969; } /* Comment */
    code span.cv { color: #696969; font-style: italic; } /* CommentVar */
    code span.do { color: #696969; font-style: italic; } /* Documentation */
    code span.dt { color: #7928a1; } /* DataType */
    code span.dv { color: #7928a1; } /* DecVal */
    code span.er { color: #7928a1; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #a55a00; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #696969; } /* Information */
    code span.kw { color: #d91e18; } /* Keyword */
    code span.op { color: #00769e; } /* Operator */
    code span.ot { color: #d91e18; } /* Other */
    code span.pp { color: #7928a1; } /* Preprocessor */
    code span.sc { color: #00769e; } /* SpecialChar */
    code span.ss { color: #008000; } /* SpecialString */
    code span.st { color: #008000; } /* String */
    code span.va { color: #a55a00; } /* Variable */
    code span.vs { color: #008000; } /* VerbatimString */
    code span.wa { color: #696969; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-3df89c796c8b974f0a2a57e91a8eb4b9.css">
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-9TLN2VMPQD"></script>

  <script type="text/javascript">

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-9TLN2VMPQD', { 'anonymize_ip': true});
  </script>
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">ミクロ政治データ分析実習</h1>
  <p class="subtitle">3/ Rの基本的な操作とベクトル操作</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
<ruby>宋<rp>(</rp><rt>そん</rt><rp>)</rp></ruby>&nbsp;&nbsp;<ruby>財泫<rp>(</rp><rt>じぇひょん</rt><rp>)</rp></ruby> 
</div>
        <p class="quarto-title-affiliation">
            関西大学総合情報学部
          </p>
    </div>
</div>

</section>
<section id="プロジェクト機能のすゝめ" class="slide level2">
<h2>プロジェクト機能のすゝめ</h2>
<ul>
<li>ファイルの読み込み/書き出しの際にパス問題が生じる場合が多い。</li>
<li>本講義用のプロジェクトを作成することを強く推奨する。
<ul>
<li>プロジェクトを使わない場合、本スライド/資料上のコードの再現性は保証しない。</li>
<li>R再起動時、作成しておいたプロジェクトを開くだけでOK</li>
</ul></li>
<li>プロジェクトの作成方法はサポートページの「<a href="https://www.jaysong.net/micro-book/intro/project.html">Rの使い方 &gt; プロジェクト管理</a>」を参照</li>
</ul>
</section>
<section>
<section id="様々な演算子" class="title-slide slide level1 center">
<h1>様々な演算子</h1>

</section>
<section id="電卓としてのrと算術演算子" class="slide level2">
<h2>電卓としてのRと算術演算子</h2>
<ul>
<li><strong>Step 1</strong>: File &gt; New File &gt; R Script</li>
<li><strong>Step 2</strong>: Sourceペインの大きさを最大化する。</li>
<li><strong>Step 3</strong>: Sourceペインに以下のように入力する</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">+</span> <span class="dv">3</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><strong>Step 4</strong>: Step 3で入力した行に移動し、「Cmd（⌘） + Return（macOS）」または「Ctrl + Enter（Linux/Windows）」
<ul>
<li>Consoleペインに以下のように出力されればOK</li>
</ul></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
</div>
</section>
<section id="rの算術演算子" class="slide level2">
<h2>Rの算術演算子</h2>
<ul>
<li>結果として何らかの<strong>数字</strong>が返される</li>
<li>累乗（<code>^</code>）を除き、<strong>演算子の前後にはスペースを入れる</strong>のがRの流儀
<ul>
<li>必須ではないが、コードが読みやすくなる</li>
</ul></li>
</ul>
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: center;">演算子</th>
<th>意味</th>
<th>例</th>
<th style="text-align: right;">結果</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>+</code></td>
<td>和</td>
<td><code>2 + 5</code></td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>-</code></td>
<td>差</td>
<td><code>2 - 8</code></td>
<td style="text-align: right;">-6</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>*</code></td>
<td>積</td>
<td><code>7 * 3</code></td>
<td style="text-align: right;">21</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>/</code></td>
<td>商</td>
<td><code>16 / 5</code></td>
<td style="text-align: right;">3.2</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>^</code>、<code>**</code></td>
<td>累乗（べき乗）</td>
<td><code>2^3</code>または<code>2 ** 3</code></td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>%%</code></td>
<td>剰余 (モジュロ)</td>
<td><code>18 %% 7</code></td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>%/%</code></td>
<td>整数商</td>
<td><code>18 %/% 7</code></td>
<td style="text-align: right;">2</td>
</tr>
</tbody>
</table>
</section>
<section id="rの論理演算子" class="slide level2">
<h2>Rの論理演算子</h2>
<ul>
<li>真（<code>TRUE</code>）か偽（<code>FALSE</code>）の値を返す演算子</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a><span class="dv">3</span> <span class="sc">&gt;</span> <span class="dv">2</span> <span class="co"># 3は2より大きいか</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a><span class="dv">5</span> <span class="sc">&lt;=</span> <span class="dv">10</span> <span class="co"># 5は10以下か</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">3</span> <span class="sc">==</span> <span class="dv">1</span> <span class="co"># 2 + 3は1に等しいか</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">!=</span> <span class="dv">2</span> <span class="sc">*</span> <span class="dv">2</span> <span class="co"># 2 + 3は2 * 2と等しくないか</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a>(<span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span>) <span class="sc">!=</span> (<span class="dv">2</span> <span class="sc">*</span> <span class="dv">2</span>) <span class="co"># こっちの方がもう少し読みやすい</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</section>
<section id="rの論理演算子まとめ" class="slide level2">
<h2>Rの論理演算子（まとめ）</h2>
<ul>
<li>「等しい」は<code>=</code>でなく、<code>==</code>であることに注意すること
<ul>
<li><code>=</code>は代入演算子として機能する（他の言語と同じ）。</li>
</ul></li>
</ul>
<table class="caption-top">
<thead>
<tr class="header">
<th>演算子</th>
<th>意味</th>
<th>例</th>
<th>結果</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>x &lt; y</code></td>
<td><code>x</code>は<code>y</code>より小さい</td>
<td><code>3 &lt; 1</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="even">
<td><code>x &lt;= y</code></td>
<td><code>x</code>は<code>y</code>と等しいか、小さい</td>
<td><code>2 &lt;= 2</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="odd">
<td><code>x &gt; y</code></td>
<td><code>x</code>は<code>y</code>より大きい</td>
<td><code>6 &gt; 5</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>x &gt;= y</code></td>
<td><code>x</code>は<code>y</code>と等しいか、大きい</td>
<td><code>4 &gt;= 5</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="odd">
<td><code>x == y</code></td>
<td><code>x</code>と<code>y</code>は等しい</td>
<td><code>(2 + 3) == (4 + 1)</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>x != y</code></td>
<td><code>x</code>と<code>y</code>は等しくない</td>
<td><code>((2 * 3) + 1) != (2 * (3 + 1))</code></td>
<td><code>TRUE</code></td>
</tr>
</tbody>
</table>
</section>
<section id="論理演算子-andとor" class="slide level2">
<h2>論理演算子: ANDとOR</h2>
<h4 id="and演算子">AND演算子: <code>&amp;</code></h4>
<ul>
<li><code>&amp;</code>を挟む左右の<strong>両側</strong>が<code>TRUE</code>の場合のみ<code>TRUE</code>を返す</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a>(<span class="dv">2</span> <span class="sc">+</span> <span class="dv">3</span> <span class="sc">==</span> <span class="dv">5</span>) <span class="sc">&amp;</span> (<span class="dv">1</span> <span class="sc">*</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">3</span>) <span class="co"># TRUE and FALSEだから</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a>(<span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">4</span>) <span class="sc">&amp;</span> (<span class="dv">2</span> <span class="sc">*</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">4</span>) <span class="co"># TRUE and TRUEだから</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p><br></p>
<h4 id="or演算子">OR演算子: <code>|</code></h4>
<ul>
<li><code>|</code>を挟む左右の<strong>片側、あるいは両側</strong>が<code>TRUE</code>の場合のみ<code>TRUE</code>を返す</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a>(<span class="dv">2</span> <span class="sc">+</span> <span class="dv">3</span> <span class="sc">==</span> <span class="dv">5</span>) <span class="sc">|</span> (<span class="dv">1</span> <span class="sc">*</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">3</span>) <span class="co"># TRUE or FALSEだから</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a>(<span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">!=</span> <span class="dv">4</span>) <span class="sc">|</span> (<span class="dv">2</span> <span class="sc">*</span> <span class="dv">2</span> <span class="sc">!=</span> <span class="dv">4</span>) <span class="co"># FALSE or FALSEだから</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</section>
<section id="練習問題" class="slide level2">
<h2>練習問題</h2>
<ol type="1">
<li><span class="math inline">\(\frac{1234 \times 4321}{3}\)</span></li>
<li><span class="math inline">\(\frac{1234 \times 4321}{3}\)</span>の余りは？
<ul>
<li><span class="math inline">\((1234 \times 4321) \text{ mod } 3\)</span>とも表記する</li>
</ul></li>
<li><span class="math inline">\(2 \times 3\)</span> と <span class="math inline">\(2 + 3\)</span> は等しいか</li>
<li><span class="math inline">\(1009 \text{ mod } 3\)</span> は0か</li>
<li><span class="math inline">\(5^5\)</span> は100<strong>以上</strong>、かつ1000<strong>未満</strong>であるか</li>
</ol>
</section>
<section id="練習問題答え" class="slide level2">
<h2>練習問題（答え）</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a></a>(<span class="dv">1234</span> <span class="sc">*</span> <span class="dv">4321</span>) <span class="sc">/</span> <span class="dv">3</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1777371</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a></a>(<span class="dv">1234</span> <span class="sc">*</span> <span class="dv">4321</span>) <span class="sc">%%</span> <span class="dv">3</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a></a><span class="dv">2</span> <span class="sc">*</span> <span class="dv">3</span> <span class="sc">==</span> <span class="dv">2</span> <span class="sc">+</span> <span class="dv">3</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a></a><span class="dv">1009</span> <span class="sc">%%</span> <span class="dv">3</span> <span class="sc">==</span> <span class="dv">0</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a></a>(<span class="dv">5</span><span class="sc">^</span><span class="dv">5</span> <span class="sc">&gt;=</span> <span class="dv">100</span>) <span class="sc">&amp;</span> (<span class="dv">5</span><span class="sc">^</span><span class="dv">5</span> <span class="sc">&lt;</span> <span class="dv">1000</span>)</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</section></section>
<section>
<section id="ベクトル" class="title-slide slide level1 center">
<h1>ベクトル</h1>

</section>
<section id="行のコードを書いてみよう" class="slide level2">
<h2>200行のコードを書いてみよう</h2>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li>123454321 <span class="math inline">\(\times\)</span> 2を計算してみよう</li>
<li>123454321 <span class="math inline">\(\times\)</span> 3を計算してみよう</li>
<li>123454321 <span class="math inline">\(\times\)</span> 4を計算してみよう</li>
<li>…</li>
<li>123454321 <span class="math inline">\(\times\)</span> 199を計算してみよう</li>
<li>123454321 <span class="math inline">\(\times\)</span> 200を計算してみよう</li>
</ul>
</div><div class="column" style="width:60%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a></a><span class="dv">123454321</span> <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb31-2"><a></a><span class="dv">123454321</span> <span class="sc">*</span> <span class="dv">3</span></span>
<span id="cb31-3"><a></a><span class="dv">123454321</span> <span class="sc">*</span> <span class="dv">4</span></span>
<span id="cb31-4"><a></a></span>
<span id="cb31-5"><a></a>...</span>
<span id="cb31-6"><a></a></span>
<span id="cb31-7"><a></a><span class="dv">123454321</span> <span class="sc">*</span> <span class="dv">199</span></span>
<span id="cb31-8"><a></a><span class="dv">123454321</span> <span class="sc">*</span> <span class="dv">200</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></div>
<p><br></p>
<h4 id="効率的な方法は">効率的な方法は?</h4>
<ul>
<li><code>123454321</code>をコピーし貼り付けながら計算を繰り返す</li>
<li><code>123454321</code>に<code>x</code>という名前を付けて、<code>x * 1</code>のように表記する</li>
</ul>
</section>
<section id="rにおけるベクトル" class="slide level2">
<h2>Rにおけるベクトル</h2>
<p>ベクトル（vector）: Rにおけるデータの最小単位</p>
<ul>
<li>ベクトル内の全ての要素（element）は同じデータ型（数値型、文字型など）
<ul>
<li>数値と文字列が混在するベクトルは作成不可</li>
</ul></li>
<li><code>c()</code>関数で作成
<ul>
<li><code>()</code>の中にベクトルの要素を入力</li>
<li>ベクトルの長さが2以上の場合、各要素を<code>,</code>（半角コンマ）で区切る。
<ul>
<li>必須ではないが、<code>,</code>の後ろには半角スペースを入れるとコードが読みやすくなる（前は不要）。</li>
</ul></li>
<li>長さ1のベクトルの場合、<code>c()</code>は省略可能
<ul>
<li><code>x &lt;- cat("cat")</code>でも、<code>x &lt;- "cat"</code>でも良い</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="ベクトルの作成" class="slide level2">
<h2>ベクトルの作成</h2>
<ul>
<li><code>&lt;-</code>演算子で格納
<ul>
<li><code>ベクトル名</code>という名前の<strong>オブジェクト（object）</strong>が生成され、作業環境内に保存される。</li>
<li>「作業環境」や「オブジェクト」の概念は次回解説</li>
</ul></li>
<li>格納しない場合、作業環境に保存されず、出力のみ</li>
</ul>
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a></a>ベクトル名 <span class="ot">&lt;-</span> <span class="fu">c</span>(要素1, 要素2, ...)</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
<p><strong>例1:</strong> 要素が1, 2, 3, 4, 5の長さ5の数値型ベクトル</p>
<ul>
<li>ベクトルを<code>my_vector1</code>という名前で作業環境に格納</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a></a>my_vector1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p><strong>例2:</strong> 要素が”Cat”, “Lion”, “Tiger”の長さ3の文字型ベクトルを<code>my_vector2</code>という名で格納</p>
<ul>
<li>文字は必ず<code>"</code>か<code>'</code>で囲む</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a></a>my_vector2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Cat"</span>, <span class="st">"Lion"</span>, <span class="st">"Tiger"</span>)</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="オブジェクトの名前" class="slide level2">
<h2>オブジェクトの名前</h2>
<p>基本的にオブジェクト名は何でも良いが、いくつかの禁則事項がある</p>
<ul>
<li>特殊記号、スペース禁止（例外：<code>_</code>と<code>.</code>）
<ul>
<li>スペースの代わりに<code>_</code>か<code>.</code>が使われるが、<code>_</code>を推奨</li>
</ul></li>
<li>数字、または<code>_</code>、<code>.</code>で始まるオブジェクト名は使えない</li>
<li>予約語は使えない（<code>for</code>や<code>if</code>など）
<ul>
<li>使える予約語もあるが、非推奨</li>
</ul></li>
<li>日本語、ハングル、簡体字、アラビア文字も可能であるが、非推奨</li>
</ul>
<p><br></p>
<h4 id="良いオブジェクト名は">良いオブジェクト名は</h4>
<ul>
<li>オブジェクト名を見るだけで、中身の内容が想像できる</li>
<li>短いオブジェクト名</li>
<li>結論：短い、かつ具体的な名前が望ましい
<ul>
<li><span class="math inline">\(\Rightarrow\)</span> どうすりゃいいんだ…</li>
</ul></li>
</ul>
</section>
<section id="オブジェクトの表示" class="slide level2">
<h2>オブジェクトの表示</h2>
<h4 id="現在の作業環境におけるオブジェクトリスト">現在の作業環境におけるオブジェクトリスト</h4>
<ul>
<li><strong>方法1：</strong>RStudioのEnvironmentペインで確認</li>
<li><strong>方法2：</strong>Consoleペインで<code>ls()</code>を入力</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a></a><span class="fu">ls</span>()</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "my_vector1" "my_vector2"</code></pre>
</div>
</div>
<p><br></p>
<h4 id="オブジェクトの出力">オブジェクトの出力</h4>
<p>オブジェクト名のみ入力（<code>print(オブジェクト名)</code>もOK）</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a></a>my_vector1 <span class="co"># print(my_vector1) でもOK</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a></a>my_vector2 <span class="co"># print(my_vector2) でもOK</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Cat"   "Lion"  "Tiger"</code></pre>
</div>
</div>
<ul>
<li><strong>Rを再起動すると作業環境が初期化される</strong>ため、もう一回作成する必要がある。
<ul>
<li>コードを記録し、残すことが重要</li>
</ul></li>
</ul>
</section>
<section id="比較" class="slide level2">
<h2>比較</h2>
<p>コードは一行増えたものの、全体的にはコードの量が著しく減る。</p>
<ul>
<li>ただし、200行書かないといけない点は変わらない。
<ul>
<li>より効率的な方法は?</li>
<li><span class="math inline">\(\rightarrow\)</span> ベクトル・リサイクル（vector recycle）</li>
</ul></li>
</ul>
<div class="columns">
<div class="column" style="width:49%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a></a><span class="dv">123454321</span> <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb41-2"><a></a><span class="do">## [1] 246908642</span></span>
<span id="cb41-3"><a></a><span class="dv">123454321</span> <span class="sc">*</span> <span class="dv">3</span></span>
<span id="cb41-4"><a></a><span class="do">## [1] 370362963</span></span>
<span id="cb41-5"><a></a><span class="dv">123454321</span> <span class="sc">*</span> <span class="dv">4</span></span>
<span id="cb41-6"><a></a><span class="do">## [1] 493817284</span></span>
<span id="cb41-7"><a></a><span class="dv">123454321</span> <span class="sc">*</span> <span class="dv">5</span></span>
<span id="cb41-8"><a></a><span class="do">## [1] 617271605</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:49%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a></a>x <span class="ot">&lt;-</span> <span class="dv">123454321</span></span>
<span id="cb42-2"><a></a>x <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb42-3"><a></a><span class="do">## [1] 246908642</span></span>
<span id="cb42-4"><a></a>x <span class="sc">*</span> <span class="dv">3</span></span>
<span id="cb42-5"><a></a><span class="do">## [1] 370362963</span></span>
<span id="cb42-6"><a></a>x <span class="sc">*</span> <span class="dv">4</span></span>
<span id="cb42-7"><a></a><span class="do">## [1] 493817284</span></span>
<span id="cb42-8"><a></a>x <span class="sc">*</span> <span class="dv">5</span></span>
<span id="cb42-9"><a></a><span class="do">## [1] 617271605</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></div>
</section>
<section id="等差数列ベクトルの作り方" class="slide level2">
<h2>等差数列ベクトルの作り方</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>公差 = 1の等差数列</p>
<ul>
<li><code>:</code>演算子を利用</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>)</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5 6 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a></a><span class="dv">1</span><span class="sc">:</span><span class="dv">7</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5 6 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a></a><span class="dv">8</span><span class="sc">:</span><span class="dv">3</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8 7 6 5 4 3</code></pre>
</div>
</div>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:58%;">
<p>公差 <span class="math inline">\(\neq\)</span> 1の等差数列</p>
<ul>
<li><code>seq()</code>関数の使用 (<code>by</code>で公差を指定)</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 3 5 7 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">9</span>, <span class="at">by =</span> <span class="dv">2</span>)   <span class="co"># 1から9までの公差2の等差数列</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 3 5 7 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="at">by =</span> <span class="fl">0.5</span>) <span class="co"># 1から5までの公差0.5の等差数列</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a></a><span class="fu">seq</span>(<span class="dv">8</span>, <span class="dv">3</span>, <span class="at">by =</span> <span class="sc">-</span><span class="dv">1</span>)  <span class="co"># 8から3までの公差-1の等差数列</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8 7 6 5 4 3</code></pre>
</div>
</div>
</div></div>
</section>
<section id="ベクトル同士の演算" class="slide level2">
<h2>ベクトル同士の演算</h2>
<p><strong>例)</strong> ベクトル<code>X</code>とベクトル<code>Y</code>同士の演算</p>
<ul>
<li><strong>ケース1：</strong> <code>X</code>の長さ = <code>Y</code>の長さ</li>
<li><strong>ケース2：</strong> <code>X</code>の長さ <span class="math inline">\(\neq\)</span> <code>Y</code>の長さ</li>
</ul>
<p><br></p>
<p><strong>参考)</strong> ベクトルの長さの求め方</p>
<ul>
<li><code>length()</code>関数を使用</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a></a><span class="fu">length</span>(my_vector1) <span class="co"># c(1, 2, 3, 4, 5)</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a></a><span class="fu">length</span>(my_vector2) <span class="co"># c("Cat", "Lion", "Tiger")</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</section>
<section id="ケース1-ベクトルの長さが同じ場合" class="slide level2">
<h2>ケース1: ベクトルの長さが同じ場合</h2>
<ul>
<li>同じ位置の要素同士の演算</li>
</ul>
<table class="caption-top">
<thead>
<tr class="header">
<th>ベクトル/位置</th>
<th style="text-align: center;">1番目</th>
<th style="text-align: center;">2番目</th>
<th style="text-align: center;">3番目</th>
<th style="text-align: center;">4番目</th>
<th style="text-align: center;">5番目</th>
<th style="text-align: center;">6番目</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>my_vec1</code></td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">6</td>
</tr>
<tr class="even">
<td></td>
<td style="text-align: center;"><span class="math inline">\(\times\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\times\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\times\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\times\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\times\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\times\)</span></td>
</tr>
<tr class="odd">
<td><code>my_vec2</code></td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
</tr>
<tr class="even">
<td>結果</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">6</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">12</td>
</tr>
</tbody>
</table>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a></a><span class="co"># my_vec1とmy_vec2は同じ長さ</span></span>
<span id="cb61-2"><a></a>my_vec1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>) <span class="co"># 長さ6のベクトル</span></span>
<span id="cb61-3"><a></a>my_vec2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>) <span class="co"># 長さ6のベクトル</span></span>
<span id="cb61-4"><a></a>my_vec1 <span class="sc">*</span> my_vec2</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  0  2  6  0  5 12</code></pre>
</div>
</div>
</section>
<section id="ケース2-ベクトルの長さが異なる場合" class="slide level2">
<h2>ケース2: ベクトルの長さが異なる場合</h2>
<ul>
<li>短い方のベクトルがリサイクルされる（<strong>ベクトル・リサイクル</strong>）。
<ul>
<li><code>my_vec4</code>の方が短いため、足りない分（太字の部分）はリサイクルされる。</li>
</ul></li>
</ul>
<table class="caption-top">
<thead>
<tr class="header">
<th>ベクトル/位置</th>
<th style="text-align: center;">1番目</th>
<th style="text-align: center;">2番目</th>
<th style="text-align: center;">3番目</th>
<th style="text-align: center;">4番目</th>
<th style="text-align: center;">5番目</th>
<th style="text-align: center;">6番目</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>my_vec3</code></td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">6</td>
</tr>
<tr class="even">
<td></td>
<td style="text-align: center;"><span class="math inline">\(\times\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\times\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\times\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\times\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\times\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\times\)</span></td>
</tr>
<tr class="odd">
<td><code>my_vec4</code></td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: center;"><strong>1</strong></td>
<td style="text-align: center;"><strong>0</strong></td>
<td style="text-align: center;"><strong>1</strong></td>
</tr>
<tr class="even">
<td>結果</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">6</td>
</tr>
</tbody>
</table>
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a></a><span class="co"># my_vec3とmy_vec4の長さは異なる</span></span>
<span id="cb63-2"><a></a>my_vec3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>) <span class="co"># 長さ6のベクトル</span></span>
<span id="cb63-3"><a></a>my_vec4 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>)             <span class="co"># 長さ2のベクトル</span></span>
<span id="cb63-4"><a></a>my_vec3 <span class="sc">*</span> my_vec4</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0 2 0 4 0 6</code></pre>
</div>
</div>
</section>
<section id="最初の問題" class="slide level2">
<h2>最初の問題</h2>
<p>結果はどのコードでも同じ</p>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">コード</a></li><li><a href="#tabset-1-2">結果</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="columns">
<div class="column" style="width:30%;">
<p>答え（3行 ver.）</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a></a>x <span class="ot">&lt;-</span> <span class="dv">123454321</span></span>
<span id="cb65-2"><a></a>y <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">200</span></span>
<span id="cb65-3"><a></a>x <span class="sc">*</span> y</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:30%;">
<p>答え（2行 ver.）</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a></a>x <span class="ot">&lt;-</span> <span class="dv">123454321</span></span>
<span id="cb66-2"><a></a>x <span class="sc">*</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">200</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>または、</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a></a>x <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">200</span></span>
<span id="cb67-2"><a></a><span class="dv">123454321</span> <span class="sc">*</span> x</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:30%;">
<p>答え（1行 ver.）</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a></a><span class="dv">123454321</span> <span class="sc">*</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">200</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></div>
</div>
<div id="tabset-1-2">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a></a><span class="dv">123454321</span> <span class="sc">*</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">200</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1]   246908642   370362963   493817284   617271605   740725926   864180247
  [7]   987634568  1111088889  1234543210  1357997531  1481451852  1604906173
 [13]  1728360494  1851814815  1975269136  2098723457  2222177778  2345632099
 [19]  2469086420  2592540741  2715995062  2839449383  2962903704  3086358025
 [25]  3209812346  3333266667  3456720988  3580175309  3703629630  3827083951
 [31]  3950538272  4073992593  4197446914  4320901235  4444355556  4567809877
 [37]  4691264198  4814718519  4938172840  5061627161  5185081482  5308535803
 [43]  5431990124  5555444445  5678898766  5802353087  5925807408  6049261729
 [49]  6172716050  6296170371  6419624692  6543079013  6666533334  6789987655
 [55]  6913441976  7036896297  7160350618  7283804939  7407259260  7530713581
 [61]  7654167902  7777622223  7901076544  8024530865  8147985186  8271439507
 [67]  8394893828  8518348149  8641802470  8765256791  8888711112  9012165433
 [73]  9135619754  9259074075  9382528396  9505982717  9629437038  9752891359
 [79]  9876345680  9999800001 10123254322 10246708643 10370162964 10493617285
 [85] 10617071606 10740525927 10863980248 10987434569 11110888890 11234343211
 [91] 11357797532 11481251853 11604706174 11728160495 11851614816 11975069137
 [97] 12098523458 12221977779 12345432100 12468886421 12592340742 12715795063
[103] 12839249384 12962703705 13086158026 13209612347 13333066668 13456520989
[109] 13579975310 13703429631 13826883952 13950338273 14073792594 14197246915
[115] 14320701236 14444155557 14567609878 14691064199 14814518520 14937972841
[121] 15061427162 15184881483 15308335804 15431790125 15555244446 15678698767
[127] 15802153088 15925607409 16049061730 16172516051 16295970372 16419424693
[133] 16542879014 16666333335 16789787656 16913241977 17036696298 17160150619
[139] 17283604940 17407059261 17530513582 17653967903 17777422224 17900876545
[145] 18024330866 18147785187 18271239508 18394693829 18518148150 18641602471
[151] 18765056792 18888511113 19011965434 19135419755 19258874076 19382328397
[157] 19505782718 19629237039 19752691360 19876145681 19999600002 20123054323
[163] 20246508644 20369962965 20493417286 20616871607 20740325928 20863780249
[169] 20987234570 21110688891 21234143212 21357597533 21481051854 21604506175
[175] 21727960496 21851414817 21974869138 22098323459 22221777780 22345232101
[181] 22468686422 22592140743 22715595064 22839049385 22962503706 23085958027
[187] 23209412348 23332866669 23456320990 23579775311 23703229632 23826683953
[193] 23950138274 24073592595 24197046916 24320501237 24443955558 24567409879
[199] 24690864200</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="ベクトル要素の抽出" class="slide level2">
<h2>ベクトル要素の抽出</h2>
<p>ベクトルから任意の要素を抽出する2つの方法</p>
<ul>
<li><strong>方法1</strong>: 抽出する要素の位置を指定する。</li>
<li><strong>方法2</strong>: 論理演算子を利用する。</li>
</ul>
<p><br></p>
<p><strong>例)</strong> 11, 12, 13, …, 19, 20が格納された<code>my_vec5</code></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a></a>my_vec5 <span class="ot">&lt;-</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">20</span> <span class="co"># my_vec &lt;- seq(11, 20, by = 1) と同じ</span></span>
<span id="cb71-2"><a></a>my_vec5</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 11 12 13 14 15 16 17 18 19 20</code></pre>
</div>
</div>
<p><br></p>
<table class="caption-top">
<thead>
<tr class="header">
<th>位置</th>
<th style="text-align: center;">1</th>
<th style="text-align: center;">2</th>
<th style="text-align: center;">3</th>
<th style="text-align: center;">4</th>
<th style="text-align: center;">5</th>
<th style="text-align: center;">6</th>
<th style="text-align: center;">7</th>
<th style="text-align: center;">8</th>
<th style="text-align: center;">9</th>
<th style="text-align: center;">10</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>my_vec5</code></td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">12</td>
<td style="text-align: center;">13</td>
<td style="text-align: center;">14</td>
<td style="text-align: center;">15</td>
<td style="text-align: center;">16</td>
<td style="text-align: center;">17</td>
<td style="text-align: center;">18</td>
<td style="text-align: center;">19</td>
<td style="text-align: center;">20</td>
</tr>
</tbody>
</table>
<ul>
<li>他の言語と違い、位置の番号は0からでなく、<strong>1からスタート</strong>することに注意</li>
</ul>
</section>
<section id="要素の抽出-位置指定" class="slide level2">
<h2>要素の抽出: 位置指定</h2>
<ul>
<li><code>ベクトル名[抽出する要素の位置]</code></li>
</ul>
<p><strong>例1)</strong> <code>my_vec5</code>の3番目の要素</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a></a>my_vec5[<span class="dv">3</span>]</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
</div>
<p><strong>例2)</strong> <code>my_vec5</code>の2, 3, 4, 5番目の要素</p>
<ul>
<li><code>[]</code>内に抽出する要素の位置を表すベクトルを指定</li>
<li><code>pos_vec</code>、<code>c(2, 3, 4, 5)</code>、<code>seq(2, 5, by = 1)</code>、<code>2:5</code>はすべて同じ意味</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a></a>pos_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb75-2"><a></a>my_vec5[pos_vec]</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12 13 14 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a></a>my_vec5[<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)]</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12 13 14 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a></a>my_vec5[<span class="fu">seq</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="at">by =</span> <span class="dv">1</span>)]</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12 13 14 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a></a>my_vec5[<span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>]</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12 13 14 15</code></pre>
</div>
</div>
</section>
<section id="要素の抽出-論理演算子の利用" class="slide level2">
<h2>要素の抽出: 論理演算子の利用</h2>
<ul>
<li>それぞれの要素に対し、抽出するか（<code>TRUE</code>）しないか（<code>FALSE</code>）を指定</li>
<li>表形式データにおける行の抽出を自由自在に操るためには必須知識（第9回）</li>
</ul>
<p><strong>例1)</strong> <code>my_vec5</code>から1, 4, 7, 9, 10番目の要素を抽出</p>
<ul>
<li><code>[]</code>内にベクトルの長さ分のベクトルを更に入力する必要があるため、あまり使わない方法</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a></a><span class="co"># my_vec5[c(1, 4, 7, 9, 10)] と同じ結果</span></span>
<span id="cb83-2"><a></a>my_vec5[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)]</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11 14 17 19 20</code></pre>
</div>
</div>
<p><strong>例2)</strong> <code>my_vec5</code>から奇数のみ抽出（論理演算子の利用）</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a></a><span class="co"># my_vec5を2で割った場合、余りが1ならTRUE、その他はFALSE</span></span>
<span id="cb85-2"><a></a>my_vec5 <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">1</span></span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a></a>my_vec5[my_vec5 <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">1</span>]</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11 13 15 17 19</code></pre>
</div>
</div>
</section></section>
<section>
<section id="データの入出力" class="title-slide slide level1 center">
<h1>データの入出力</h1>

</section>
<section id="表形式データの読み込み" class="slide level2">
<h2>表形式データの読み込み</h2>
<p>{tidyverse}パッケージが提供する<code>read_csv()</code>関数を利用</p>
<ul>
<li><code>オブジェクト名 &lt;- read_csv("パスを含むファイル名")</code></li>
<li>以下の例はプロジェクト・フォルダー内に<code>Data</code>という名の下位フォルダーがあり、その中に<code>Pref_Vote.csv</code>が保存されている場合。
<ul>
<li>パスは<code>"Data/Pref_Vote.csv"</code></li>
<li>JDCat分析ツールを使用する場合、予めデータをアップロードしておくこと。
<ul>
<li>ファイルアップロードの方法はサポートページの「Rの使い方 &gt; <a href="https://www.jaysong.net/r4ps/intro/file.html" target="_blank">ファイル管理</a>」を参照</li>
<li>データ（<code>Pref_Vote.csv</code>）はLMSから入手</li>
</ul></li>
</ul></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb89-2"><a></a>my_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Data/Pref_Vote.csv"</span>)</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>注意：<code>read_csv()</code>と<code>read.csv()</code>は区別しよう。</strong></p>
</div>
<div class="callout-content">
<p>　両方<code>.csv</code>形式データを読み込む関数であるが、<code>read.csv()</code>はR内蔵関数、<code>read_csv()</code>は{tidyverse}を読み込まないと使用できない関数である。後者の方が見やすいメリットがある。本講義では<code>read_csv()</code>のみを使用する。課題の際、<code>read.csv()</code>関数を使うと<strong>減点</strong>とする。</p>
</div>
</div>
</div>
</section>
<section id="データの出力" class="slide level2">
<h2>データの出力</h2>
<ul>
<li><code>オブジェクト名</code>、または<code>print(オブジェクト名)</code></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a></a><span class="co"># my_dataの中身の出力するコード</span></span>
<span id="cb90-2"><a></a><span class="co"># print(my_data) でもOK</span></span>
<span id="cb90-3"><a></a>my_data</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 47 × 13
      ID Pref   Zaisei Over65 Under30 Jimin Minshin Komei Kyosan Ishin Shamin
   &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1     1 北海道  0.419   29.1    24.7  32.8    30.6 13.4    3.43 11.4    1.68
 2     2 青森県  0.332   30.1    23.9  40.4    24.6 12.8    3.82  8.92   3.41
 3     3 岩手県  0.341   30.4    24.5  34.9    22.4  8.61   5.16 11.2    5.29
 4     4 宮城県  0.596   25.8    27.3  36.7    25.4 13.4    3.97  9.99   3.62
 5     5 秋田県  0.299   33.8    21.4  43.5    22.7 11.2    5.17  7.56   5.12
 6     6 山形県  0.342   30.8    24.8  42.5    21.5 11.8    4.3   7.6    5.2 
 7     7 福島県  0.509   28.7    25.2  33.8    28.3 11.0    3.43 10.4    3.24
 8     8 茨城県  0.633   26.8    26.6  40.6    19.0 15.0    6.67 10.1    2.88
 9     9 栃木県  0.622   25.9    26.8  38.8    21.6 12.4   10.9   7      2.05
10    10 群馬県  0.603   27.6    26.6  42.1    19.3 13.8    5.61 10      2.44
# ℹ 37 more rows
# ℹ 2 more variables: Region2 &lt;dbl&gt;, Region6 &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="データが全部見えない" class="slide level2">
<h2>データが全部見えない?</h2>
<p><strong>1行目</strong></p>
<ul>
<li>意味: 47行13列の表形式データ</li>
</ul>
<pre><code># A tibble: 47 × 13</code></pre>
<p><br></p>
<p><strong>最終行</strong></p>
<ul>
<li>意味: 表示された行以外にも更に37行があり、<code>Region2</code>と<code>Region6</code>は画面では省略されている。
<ul>
<li>文字サイズが小さい or 画面が大きい場合は省略されず、13列がすべて出力される場合もある。</li>
</ul></li>
</ul>
<pre><code># … with 37 more rows, and 2 more variables: Region2 &lt;dbl&gt;, Region6 &lt;dbl&gt;</code></pre>
</section>
<section id="読み込んだデータの出力" class="slide level2">
<h2>読み込んだデータの出力</h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">デフォルト</a></li><li><a href="#tabset-2-2">出力行数の指定</a></li><li><a href="#tabset-2-3">最後の6行</a></li><li><a href="#tabset-2-4">最後のn行</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<ul>
<li><code>オブジェクト名</code>、または<code>print(オブジェクト名)</code></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a></a>my_data</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 47 × 13
      ID Pref   Zaisei Over65 Under30 Jimin Minshin Komei Kyosan Ishin Shamin
   &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1     1 北海道  0.419   29.1    24.7  32.8    30.6 13.4    3.43 11.4    1.68
 2     2 青森県  0.332   30.1    23.9  40.4    24.6 12.8    3.82  8.92   3.41
 3     3 岩手県  0.341   30.4    24.5  34.9    22.4  8.61   5.16 11.2    5.29
 4     4 宮城県  0.596   25.8    27.3  36.7    25.4 13.4    3.97  9.99   3.62
 5     5 秋田県  0.299   33.8    21.4  43.5    22.7 11.2    5.17  7.56   5.12
 6     6 山形県  0.342   30.8    24.8  42.5    21.5 11.8    4.3   7.6    5.2 
 7     7 福島県  0.509   28.7    25.2  33.8    28.3 11.0    3.43 10.4    3.24
 8     8 茨城県  0.633   26.8    26.6  40.6    19.0 15.0    6.67 10.1    2.88
 9     9 栃木県  0.622   25.9    26.8  38.8    21.6 12.4   10.9   7      2.05
10    10 群馬県  0.603   27.6    26.6  42.1    19.3 13.8    5.61 10      2.44
# ℹ 37 more rows
# ℹ 2 more variables: Region2 &lt;dbl&gt;, Region6 &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
<div id="tabset-2-2">
<ul>
<li><code>print(オブジェクト名, n = 行数)</code></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a></a><span class="fu">print</span>(my_data, <span class="at">n =</span> <span class="dv">15</span>)</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 47 × 13
      ID Pref     Zaisei Over65 Under30 Jimin Minshin Komei Kyosan Ishin Shamin
   &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1     1 北海道    0.419   29.1    24.7  32.8    30.6 13.4    3.43 11.4    1.68
 2     2 青森県    0.332   30.1    23.9  40.4    24.6 12.8    3.82  8.92   3.41
 3     3 岩手県    0.341   30.4    24.5  34.9    22.4  8.61   5.16 11.2    5.29
 4     4 宮城県    0.596   25.8    27.3  36.7    25.4 13.4    3.97  9.99   3.62
 5     5 秋田県    0.299   33.8    21.4  43.5    22.7 11.2    5.17  7.56   5.12
 6     6 山形県    0.342   30.8    24.8  42.5    21.5 11.8    4.3   7.6    5.2 
 7     7 福島県    0.509   28.7    25.2  33.8    28.3 11.0    3.43 10.4    3.24
 8     8 茨城県    0.633   26.8    26.6  40.6    19.0 15.0    6.67 10.1    2.88
 9     9 栃木県    0.622   25.9    26.8  38.8    21.6 12.4   10.9   7      2.05
10    10 群馬県    0.603   27.6    26.6  42.1    19.3 13.8    5.61 10      2.44
11    11 埼玉県    0.765   24.8    27.7  32.3    20.4 16      7.23 13.9    1.91
12    12 千葉県    0.777   25.9    26.7  37.8    21.7 14.0    5.46 11.3    2.01
13    13 東京都    1.00    22.7    27.4  34.4    19.8 11.4    7.34 14.2    2.82
14    14 神奈川県  0.917   23.9    27.8  34.9    21.5 12.2    7.77 12.5    2.79
15    15 新潟県    0.435   29.9    25.2  43.7    25.2  8.27   4.39  8      3.76
# ℹ 32 more rows
# ℹ 2 more variables: Region2 &lt;dbl&gt;, Region6 &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
<div id="tabset-2-3">
<ul>
<li><code>tail(オブジェクト名)</code></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a></a><span class="fu">tail</span>(my_data)</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 13
     ID Pref     Zaisei Over65 Under30 Jimin Minshin Komei Kyosan Ishin Shamin
  &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
1    42 長崎県    0.316   29.6    25.8  41.7    20.7  16.9   5.12  6.27   3.48
2    43 熊本県    0.387   28.8    27.2  46.5    19.3  15.3   4.53  6.32   2.6 
3    44 大分県    0.358   30.4    25.6  39.4    18.4  13.3   4.42  6.85  13.0 
4    45 宮崎県    0.320   29.5    26.3  40.1    14.5  17.1   5.74  7.27   6.81
5    46 鹿児島県  0.321   29.4    26.0  46.0    16.2  14.5   6.47  6.52   3.62
6    47 沖縄県    0.315   19.6    33.4  27.8    13.3  15.1   7.66 15.6   12.1 
# ℹ 2 more variables: Region2 &lt;dbl&gt;, Region6 &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
<div id="tabset-2-4">
<ul>
<li><code>tail(オブジェクト名, n = 行数)</code>
<ul>
<li><code>head()</code>で使うと<strong>最初</strong>の<code>n</code>行の出力も可能</li>
</ul></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a></a><span class="fu">tail</span>(my_data, <span class="at">n =</span> <span class="dv">10</span>)</span></code><button title="コピーする" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 13
      ID Pref     Zaisei Over65 Under30 Jimin Minshin Komei Kyosan Ishin Shamin
   &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1    38 愛媛県    0.412   30.6    24.8  43.6    19.3  14.8   6.77  6.97   2.4 
 2    39 高知県    0.245   32.8    23.6  37.0    17.0  15.8   3.93 17.4    2.91
 3    40 福岡県    0.618   25.9    28.2  36.5    19.1  17.2   7.03 10.8    3.33
 4    41 佐賀県    0.329   27.7    28.0  43.5    21.1  15.5   4.85  5.67   4.16
 5    42 長崎県    0.316   29.6    25.8  41.7    20.7  16.9   5.12  6.27   3.48
 6    43 熊本県    0.387   28.8    27.2  46.5    19.3  15.3   4.53  6.32   2.6 
 7    44 大分県    0.358   30.4    25.6  39.4    18.4  13.3   4.42  6.85  13.0 
 8    45 宮崎県    0.320   29.5    26.3  40.1    14.5  17.1   5.74  7.27   6.81
 9    46 鹿児島県  0.321   29.4    26.0  46.0    16.2  14.5   6.47  6.52   3.62
10    47 沖縄県    0.315   19.6    33.4  27.8    13.3  15.1   7.66 15.6   12.1 
# ℹ 2 more variables: Region2 &lt;dbl&gt;, Region6 &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="csv以外の表形式データ" class="slide level2">
<h2><code>.csv</code>以外の表形式データ</h2>
<p><code>.csv</code>形式ファイルは表形式データの定番であり、標準</p>
<ul>
<li>他にも様々な形式のデータがあり、Rで読み込み可能（以下は一部の例）</li>
</ul>
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">ソフトウェア名</th>
<th style="text-align: left;">拡張子</th>
<th style="text-align: left;">使用パッケージ</th>
<th style="text-align: left;">関数</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Microsoft Excel</td>
<td style="text-align: left;"><code>.xls</code>、<code>.xlsx</code></td>
<td style="text-align: left;">{readxl}</td>
<td style="text-align: left;"><code>read_excle()</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">LibreOffice / OpenOffice</td>
<td style="text-align: left;"><code>.ods</code></td>
<td style="text-align: left;">{readODS}</td>
<td style="text-align: left;"><code>read_ods()</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">SPSS</td>
<td style="text-align: left;"><code>.sav</code></td>
<td style="text-align: left;">{haven}</td>
<td style="text-align: left;"><code>read_stata()</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Stata</td>
<td style="text-align: left;"><code>.dta</code></td>
<td style="text-align: left;">{haven}</td>
<td style="text-align: left;"><code>read_spss()</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">SAS</td>
<td style="text-align: left;"><code>.sas7bdat</code></td>
<td style="text-align: left;">{haven}</td>
<td style="text-align: left;"><code>read_sas()</code></td>
</tr>
</tbody>
</table>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="Figs/logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://www.jaysong.net/r4ps/" class="uri">https://www.jaysong.net/r4ps/</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/www\.jaysong\.net\/r4ps\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
                // target, if specified
                link.setAttribute("target", "_blank");
                if (link.getAttribute("rel") === null) {
                  link.setAttribute("rel", "noopener");
                }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>