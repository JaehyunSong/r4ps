---
title: "期末テスト実施要領"
embed-resources: true
---

```{r}
#| include: false
library(tidyverse)
knitr::opts_chunk$set(dev       = "ragg_png",
                      dpi       = 300,
                      fig.align = "center",
                      echo      = TRUE)
```

:::{.callout-important}
### 注意!

以下の内容は現在の予定であり、7月11日の内容で確定する。
:::

## 概要

* **日時:** 2024年7月18日（木）4限（14時40分〜16時10分）
   * 宋から開始の合図があれば開始
* **場所:** TC302教室（**指定席**; 座席表は授業日までにLMSで公開する）
* **持参物:** 学生証のみ
   * 学生証は宋/TAがいつでも確認できるように机の上に置くこと
* **持ち込み:** 可（インターネット/書籍/ノートなど使用可能）
   * 携帯は**使用禁止**（不正行為とみなす）
   * 持ち込みPC**不可**（PCは大学のPCを使用）
   * 普段使っているキーボード、マウスなどの入力装置があれば持ち込み可
* 宋/TAは問題そのものに関する質問（問題の誤りなど）以外、一切受け付けない
   * エラーメッセージへの対処もテストの一部
* 不正行為厳禁

## 実施手順

本講義の課題と同じ形式

* **Step1:** LMSから期末テスト用ファイル一式をダウンロードする。
   * 期末テスト用ファイル（`Micro_Final.qmd`）
   * 期末テスト用データ（`Micro_Final_Data.csv`）
   * サンプルファイル（`Micro_Final_Sample.html`）
* **Step2:** JDCat分析ツールを起動し、期末テスト用のプロジェクトを作成する。
* **Step3:** プロジェクト・フォルダー内に`Data`フォルダーを作成する。
* **Step4:** プロジェクト・フォルダーに期末テスト用ファイル（`Micro_Final.qmd`）をアップロードする。
* **Step5:** `Data`フォルダーに期末テスト用データ（`Micro_Final_Data.csv`）をアップロードする。

:::{.callout-important}
### ファイルのアップロード先に注意!

　期末テスト用ファイル（`.qmd`）はプロジェクト・フォルダ―の直にアップロードし、期末テスト用データ（`.csv`）はプロジェクト・フォルダ―内の`Data`フォルダーに入れること。多くの履修者が`Data`フォルダーに`.qmd`ファイルと`.csv`ファイルを入れているが、この場合、Knitが出来ない場合がある（自分がファイルシステムに詳しいならコード内のパスを修正して対応することも可能）。
:::

* **Step6:** 期末テスト用ファイル（`Micro_Final.qmd`）を開き、一旦、Knitしてみる。
* **Step7:** サンプルファイル（`Micro_Final_Sample.html`）を確認する。
* **Step8:** サンプルファイルと同じ結果が得られるように期末テスト用ファイルを修正する。
   * 提出者の学籍番号・氏名の修正を忘れないこと。
* **Step9:** 完成したら出力物（`.html`ファイル）を自分のPCにダウンロードする。
* **Step10:** ダウンロードしたファイルをLMSに提出する。**提出する前にダウンロードしたファイルを開き、正しくダウンロードされているかを確認する**こと。また、提出したファイルはLMSの「マイレポート」から再ダウンロードできる。不安な人は提出後、再確認すること。

:::{.callout-important}
### 期末テストを途中で中断し、再開した場合は...（持ち帰りの場合など）

　期末テストを途中で中断し、再開した場合、RStudioの右上の「Project:」欄が「(None)」になっているか確認すること。「(None)」のまま、あるいはプロジェクト名が期末テスト用プロジェクト名と一致しない場合はメニューの File > Open Project から開くこと。プロジェクトの開き方は本サポートページの Rの使い方 > プロジェクト管理 から確認できる。
:::

## 期末テストの時間について

* 時間内（〜16:20）の完成を目指す。
* 時間内に完成した場合
   * 4限中に提出物（`.html`ファイル）をLMSに提出
* 時間内に完成できなかった場合
   * 4限中に途中経過の提出物（`.html`ファイル）をLMSに提出
      * **4限中に9問以上に回答する**こと（8問までの回答は未提出とみなす）
      * 9問全問正解である必要はない。
   * 持ち帰り後、そのまま**引き続き**、残りの問題に取り組む。
   * **再**提出窓口に提出
      * 再提出の期限は授業日**当日**の23時59分
* 持ち帰り解答の扱いについて
   * （1）4限中に提出した問題に対して採点を行う。
   * （2）持ち帰り解答は5割減点。
      * 4限中に提出した回答**以降**の回答のみが対象
      * つまり、4限中に提出した回答を修正しても、これらは反映されない。
   * 期末テストの点数は(1) + (2)とする。

## 成績の例

* 期限内に18点相当を提出し、15点正解（100%反映）
* 期限外に12点相当を提出し、9点正解（50%反映）
* 15点 + (9点 $\times$ 0.5) = 19.5点
* 各問題の配点は難易度に応じて調整される。

```{r}
#| echo: false
#| fig-width: 10
#| fig-height: 5
tibble(y = c(1, 1, 1, 1),
       x = c(3, 15, 9, 3),
       z = c("不正解（期限内）", "正解（期限内）",
             "正解（持ち帰り）", "不正解（持ち帰り）")) %>%
   mutate(z = fct_inorder(z),
          z = fct_rev(z)) |> 
   ggplot() +
   geom_bar(aes(x = y, y = x, fill = z), stat = "identity") +
   annotate("segment", y = 0, yend = 30, x = 1.25, xend = 1.25,
            arrow = arrow(ends = "both", type = "closed")) +
   annotate("segment", y = 0, yend = 18, x = 1.1, xend = 1.1,
            arrow = arrow(ends = "both", type = "closed")) +
   annotate("segment", y = 18, yend = 30, x = 1.1, xend = 1.1,
            arrow = arrow(ends = "both", type = "closed")) +
   annotate("segment", y = 3, yend = 18, x = 1, xend = 1,
                arrow = arrow(ends = "both", type = "closed")) +
   annotate("segment", y = 18, yend = 27, x = 1, xend = 1,
                arrow = arrow(ends = "both", type = "closed")) +
   annotate("segment", y = 18, yend = 22.5, x = 0.9, xend = 0.9,
                arrow = arrow(ends = "both", type = "closed")) +
   annotate("segment", y = 3, yend = 22.5, x = 0.75, xend = 0.75,
                arrow = arrow(ends = "both", type = "closed")) +
   geom_hline(yintercept = 22.5, linetype = 2) +
   annotate("label", x = 1.25, y = 15, label = "40点満点", size = 5) +
   annotate("label", x = 1.1, y = 9, label = "期限内提出 (18点)", size = 5) +
   annotate("label", x = 1.1, y = 24, label = "期限外提出 (12点)", size = 5) +
   annotate("label", x = 1, y = 10.5, label = "正解 (15点)", size = 5,
            color = "red") +
   annotate("label", x = 1, y = 22.5, label = "正解 (9点)", size = 5) +
   annotate("label", x = 0.9, y = 20.25, label = "補正後\n(4.5点)", size = 5,
            color = "red") +
   annotate("label", x = 0.75, y = 12.75, label = "成績 (19.5点)", size = 5) +
   coord_flip() +
   labs(fill = "") +
   guides(fill = guide_legend(reverse = TRUE)) +
   theme_void(base_size = 14) +
   theme(legend.position = "bottom")
```

## 注意事項

* **指定された座席**でテストを受ける。
* **遅刻**した場合でも、受験時間の延長はない。余裕を持って大学に来ること。
* 持ち帰りの場合でも、**4限中に9問以上回答**すること。9問未満（=8問以下）の回答を提出した場合は不可とする。
   * ただし、9問全問正解である必要はない。
* 持ち帰りの場合、4限中に提出した回答を修正することはできるが、採点には反映されない。**持ち帰り分は、4限中に提出した回答以降の回答のみが採点対象**となる。
   * **必要に応じて既に提出した回答の修正は必要**となる。たとえば、問題8までの回答をしたとする。ここで問題7の回答が不正解の場合、問題8以降はコードが正しくても結果が異なる可能性がある。この場合、持ち帰って問題7を修正する必要があろう。ただし、採点（持ち帰り分）の対象は問題9からである。
* 持ち帰りの場合、**再提出の期限は試験日当日の23時59分**
* 宋/TAは問題そのものに関する質問（問題の誤り、国立情報学研究所側のサーバーの不具合など）以外、一切受け付けない
   * **エラーメッセージへの対処もテストの一部**
   * 全員が同じ環境のJDCat分析ツールを使用しているため、受験者**全員**に共通する不具合以外は対応しない。つまり、他の人にはエラーが発生せず、自分だけエラーが出たということはシステムの不具合でなく、自分のコードが間違っていることを意味する。
* 提出物はRenderした`.html`ファイルである。`.html`ファイルを正しくない方法（マウス右クリックでダウンロードするなど）でダウンロードした場合、コードと結果が含まれていない白紙のページとなる。提出する前に必ずファイルを開いてみて確認すること。**間違ったファイルを提出しても再提出は認めない**。