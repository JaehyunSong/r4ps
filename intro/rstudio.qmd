---
title: "RStudioの設定"
toc: true
number-sections: true
knitr:
  opts_chunk: 
    echo: false
    fig.align: "center"
---

　RStudioはそのままでも使えるが、少しカスタマイズするとより使い勝手が良くなる。RStudioのカスタマイズ画面はTools > Global Optionsをクリックすることで表示される。

![](Figs/RStudio/Customize01.png){width=75% fig-align="center"}

　以下の設定JDCat分析ツールで使用可能なRStudio最新版 (RStudio Server 2021.09.1+372)の設定であり、宋の設定と同じである。

## General

### Basicタブ

![](Figs/RStudio/Customize02.png){width=75% fig-align="center"}

|項目|設定|
|:---|:---|
|Default working directory (when not in a project)|~|
|Restore most recently opened project at startup||
|Restore previously open source documents at startup||
|Run Rprofile when resuming suspended session||
|Restore .RData into workspace at startup||
|Save work space to .Rdata on exit|Never|
|Always save history (even when not saving .RData)||
|Remove duplicate entries in history||
|Wrap around when navigating to previous/next tab|チェック|

### Graphicsタブ

|項目|設定|
|:---|:---|
|Backend|AGG|
|Antialising|(defualt)|

## Code

### Editingタブ

![](Figs/RStudio/Customize03.png){width=75% fig-align="center"}

|項目|設定|
|:---|:---|
|Insert spaces for tab|チェック|
|Tab width|2 or 4|
|Auto-detect code indentaion|チェック|
|Insert matching parens/quotes|チェック|
|Use native pipe operator||
|Auto-indent code after paste|チェック|
|Vertically align arguments in auto-indent|チェック|
|Soft-wrap R source files||
|Continue comment when inserting new line||
|Enable hyperlink highlighting in editor||
|Surround selection on text insertion|Quotes & Brackets|
|Keybindings|Default|
|Focus console after excuting from source||
|Ctrl + Enter excutes|Multi-line R statement|
|Enable code snippets|チェック|


### Displayタブ

![](Figs/RStudio/Customize04.png){width=75% fig-align="center"}

|項目|設定|
|:---|:---|
|Highlight selected word|チェック|
|Highlight selected line|チェック|
|Show line numbers|チェック|
|Show margin||
|Margin column||
|Show whitespace characters||
|Show indent guides||
|Blinking cursor|チェック|
|Allow scroll past end of document||
|Allow drag and drop of text||
|Highlight R function calls|チェック|
|Rainbow parentheses|チェック|
|Fold style|Start and End|


### Savingタブ

![](Figs/RStudio/Customize05.png){width=75% fig-align="center"}

|項目|設定|
|:---|:---|
|Ensure that source files end with newline||
|Strip trailing horizontal whitespace when saving||
|Restore last cursor position when opening file||
|Line ending conversion|Platform Native|
|Default text encoding|UTF-8|
|Always save R script before sourcing|チェック|
|Automatically save when editor loses focus||
|When editor is idle|Backup unsaved changes|
|Idle period|1000ms|

### Completionタブ

![](Figs/RStudio/Customize06.png){width=75% fig-align="center"}

|項目|設定|
|:---|:---|
|Show code completions|Automatically|
|Allow automatic completions in console|チェック|
|Insert parentheses after function completions|チェック|
|Show help tooltip after function completions|チェック|
|Show help tooltip on cursor idle||
|Insert spaces around equals for argument completions|チェック|
|Use tab for autocompletions|チェック|
|Use tab for multiline autocompletions||
|Show code completions|Automatically|
|Show completions after characters entered|3|
|Show completions after keyboard idld (ms)|250|

## Console

![](Figs/RStudio/Customize07.png){width=75% fig-align="center"}

|項目|設定|
|:---|:---|
|Show syntax highlighting in console input|チェック|
|Different color for error or message output|チェック|
|Limit visible console output||
|Limit output line length to|1000|
|ANSI Escape Codes|Show ANSI colors|
|Automatically expand tracebacks in error inspector||
|Double-click to select words||

## Appearance

![](Figs/RStudio/Customize08.png){width=75% fig-align="center"}

* 自分の好みのものを選択する。ただし、小さすぎる文字サイズ (font size) は推奨しない。目に優しくないだけでなく、誤字脱字が見つけにくくなる。30代から老眼で苦しみたくないなら、なるべくフォントサイズは大きめにしよう。

## Pane Layout

![](Figs/RStudio/Customize09.png){width=75% fig-align="center"}

|項目|設定|
|:---|:---|
|左上|Source|
|右上|Console|
|左下|すべてチェックを外す|
|右下|すべてチェックする|

## R Markdown

![](Figs/RStudio/Customize10.png){width=75% fig-align="center"}

* Show output preview in:を**Viewer Pane**に変更する。
* Show output inline for all R Markdown documentsのチェックを**消す**。

設定が終わったら右下のOK、またはApplyをクリックする。
